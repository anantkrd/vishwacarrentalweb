(this.webpackJsonpVishvajeet=this.webpackJsonpVishvajeet||[]).push([[39,52],{417:function(e,t,a){"use strict";a.r(t);var s=a(47),i=a(48),r=a(54),c=a(38),n=a(36),o=a(39),l=a(40),d=a(1),h=a(46),m=a(409),j=a(452),b=a(418),p=a(49),u=a(45),x=a(53),O=a(2),g=a(52),f=a.n(g),N=a(0),y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n,o;return Object(c.a)(this,a),(o=t.call(this,e)).state=(n={item:[],id:"",cabType:"",image:"",ac:"",bags:"",cars:"",capacity:"",note:"",amount:0,journyTime:"",discountAmount:0,finalAmount:0,mobileNo:"",pickupCity:"",destinationCity:"",pickupDate:"",returnDateTime:"",originlat:0,originlng:0,destinationlat:0,destinationlng:0,distance:0,firstName:"",lastName:"",email:"",error:"",payment_orderId:"",currency:"",receipt:"",bookingAmount:0},Object(r.a)(n,"pickupCity",""),Object(r.a)(n,"pickupDistrict",""),Object(r.a)(n,"pickupState",""),Object(r.a)(n,"dropCity",""),Object(r.a)(n,"dropDistrict",""),Object(r.a)(n,"dropState",""),Object(r.a)(n,"userrId",0),n),o.setFirstName=function(e){o.setState({firstName:e.target.value})},o.setLastName=function(e){o.setState({lastName:e.target.value})},o.setEmail=function(e){o.setState({email:e.target.value})},o.loadScript=function(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))},o.prePayment=Object(i.a)(Object(s.a)().mark((function e(){var t,a,i,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("PrePayment===="),e.next=3,o.loadScript("https://checkout.razorpay.com/v1/checkout.js");case 3:if(e.sent){e.next=7;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 7:return t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)},"amount=",i={amount:100*o.state.bookingAmount,bookingId:o.state.item.bookingId,mobileNo:o.state.item.mobileNo},e.next=13,f.a.post("https://vishwacarrental.com:8080/booking/payment",i,{headers:a});case 13:if(r=e.sent){e.next=17;break}return alert("Server error. Are you online?"),e.abrupt("return");case 17:return o.setState({payment_orderId:r.data.data.id,currency:r.data.data.currency,receipt:r.data.data.receipt}),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)}))),o}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=[];void 0==this.props.location.dataObj||"undefined"==this.props.location.dataObj?(e=localStorage.getItem("dataObj"),e=JSON.parse(e),this.setState({item:e})):(e=this.props.location.dataObj,localStorage.setItem("dataObj",JSON.stringify(e)),this.setState({item:e}));var t=localStorage.getItem("userId");this.setState({userId:t}),this.setState({pickupCity:e.pickupCity});var a=Math.round("5"*e.finalAmount/100);this.setState({bookingAmount:a}),this.prePayment()}},{key:"payNow",value:function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("In Pay now"),t=this.state.item.bookingId,a={key:"rzp_test_8KHr7ine3uj7uk",amount:100*this.state.bookingAmount,currency:this.state.currency,name:this.state.firstName+" "+this.state.lastName,description:"Booking ID: "+t,image:"",order_id:this.state.payment_orderId,handler:function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){var i,r,c,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={razorpayPaymentId:a.razorpay_payment_id,razorpayOrderId:a.razorpay_order_id,razorpaySignature:a.razorpay_signature,rawResponce:a},r=localStorage.getItem("token"),c={Authorization:"Bearer ".concat(r)},e.next=5,f.a.post("https://vishwacarrental.com:8080/booking/success",i,{headers:c});case 5:n=e.sent,window.location.href="/ThankYou/"+t,alert(n.data.data.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:this.state.firstName+" "+this.state.lastName,email:this.state.email,contact:this.state.item.mobileNo},notes:{address:this.state.item.pickupCity},theme:{color:"#61dafb"}},new window.Razorpay(a).open();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirm",value:function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,a,i,r,c,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},i=this.state.item.returnDateTime,r="Y",""!=i&&void 0!=i&&"undefined"!=i||(i="",r="N"),""!=this.state.firstName){e.next=8;break}return this.setState({error:"Please Enter First name"}),e.abrupt("return",!1);case 8:if(""!=this.state.lastName){e.next=11;break}return this.setState({error:"Please Enter Last name"}),e.abrupt("return",!1);case 11:if(""!=this.state.email){e.next=14;break}return this.setState({error:"Please Enter Email"}),e.abrupt("return",!1);case 14:return"&fname="+this.state.firstName+"&lname="+this.state.lastName+"&email="+this.state.email+"&cabId="+this.state.item._id+"&pickup="+this.state.item.pickupCity+"&destination="+this.state.item.destinationCity+"&pickupDate="+this.state.item.pickupDate+"&returnDate="+i+"&isReturn="+r+"&pickupLat="+this.state.item.originlat+"&pickupLong="+this.state.item.originlng+"&destinationLat="+this.state.item.destinationlat+"&destinationLong="+this.state.item.destinationlng+"&distance="+this.state.item.distance+"&journyTime="+this.state.item.journyTime+"&cabType="+this.state.item.cabType+"&ac="+this.state.item.ac+"&bags="+this.state.item.bags+"&cars="+this.state.item.cars+"&capacity="+this.state.item.capacity+"&note="+this.state.item.note+"&rate="+this.state.item.rate+"&amount="+this.state.item.amount+"&discountAmount="+this.state.item.discountAmount+"&finalAmount="+this.state.item.finalAmount+"&mobileNo="+this.state.item.mobileNo+"&bookingId="+this.state.item.bookingId+"&payment_orderId="+this.state.payment_orderId+"&pickupCityName="+this.state.item.pickupCityName+"&pickupDistrict="+this.state.item.pickupDistrict+"&pickupState="+this.state.item.pickupState+"&dropCityName="+this.state.item.dropCityName+"&dropDistrict="+this.state.item.dropDistrict+"&dropState="+this.state.item.dropState+"&extraRate="+this.state.item.extraRate,c={fname:this.state.firstName,lname:this.state.lastName,email:this.state.email,cabId:this.state.item._id,pickup:this.state.item.pickupCity,destination:this.state.item.destinationCity,pickupDate:this.state.item.pickupDate,returnDate:i,isReturn:r,pickupLat:this.state.item.originlat,pickupLong:this.state.item.originlng,destinationLat:this.state.item.destinationlat,destinationLong:this.state.item.destinationlng,distance:this.state.item.distance,journyTime:this.state.item.journyTime,cabType:this.state.item.cabType,ac:this.state.item.ac,bags:this.state.item.bags,cars:this.state.item.cars,capacity:this.state.item.capacity,note:this.state.item.note,rate:this.state.item.rate,amount:this.state.item.amount,discountAmount:this.state.item.discountAmount,finalAmount:this.state.item.finalAmount,mobileNo:this.state.item.mobileNo,bookingId:this.state.item.bookingId,payment_orderId:this.state.payment_orderId,pickupCityName:this.state.item.pickupCityName,pickupDistrict:this.state.item.pickupDistrict,pickupState:this.state.item.pickupState,dropCityName:this.state.item.dropCityName,dropDistrict:this.state.item.dropDistrict,dropState:this.state.item.dropState,extraRate:this.state.item.extraRate,userId:this.state.userId},e.next=18,f.a.post("https://vishwacarrental.com:8080/booking/book_cab",c,{headers:a});case 18:if(n=e.sent,200!=n.data.code){e.next=25;break}return e.next=23,this.payNow();case 23:e.next=26;break;case 25:this.setState({error:"some internal error please try later"});case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(u.default,{}),Object(N.jsx)("div",{children:Object(N.jsx)("section",{id:"pricing",className:"pricing",children:Object(N.jsxs)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-lg-7 col-md-7",style:{marginBottom:5},children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(h.a.Title,{style:{fontSize:16,padding:10,color:"white",backgroundColor:"gray"},children:"Booking Confirmation "}),Object(N.jsxs)(h.a.Body,{children:[Object(N.jsx)("div",{style:{color:"red"},children:this.state.error}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(N.jsx)(p.a.Label,{children:"Mobile No"}),Object(N.jsx)(p.a.Control,{type:"text",disabled:!0,placeholder:"Mobile No",value:this.state.item.mobileNo})]})}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(N.jsx)(p.a.Label,{children:"First Name"}),Object(N.jsx)(p.a.Control,{type:"text",placeholder:"First name",onChange:this.setFirstName})]})}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(N.jsx)(p.a.Label,{children:"Last Name"}),Object(N.jsx)(p.a.Control,{type:"text",placeholder:"Last name",onChange:this.setLastName})]})}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(N.jsx)(p.a.Label,{children:"Email"}),Object(N.jsx)(p.a.Control,{type:"text",placeholder:"Email",onChange:this.setEmail})]})}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)(p.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(N.jsxs)(m.a,{variant:"primary",type:"button",onClick:this.confirm.bind(this),children:["Pay (",this.state.bookingAmount,") to confirm"]})})})]})]})}),Object(N.jsx)("div",{className:"col-lg-5 col-md-5",style:{marginBottom:5},children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(h.a.Title,{style:{fontSize:16,padding:10,color:"white",backgroundColor:"gray"},children:"Booking Details "}),Object(N.jsxs)(h.a.Body,{children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"BookingId"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.bookingId})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Pickup"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.pickupCity})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Destination"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.destinationCity})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Pickup Date"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.pickupDate})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Return Date"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.returnDateTime})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Cab Type"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.cabType})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"AC"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.ac})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Bags"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.bags})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Capacity"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.capacity})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Amount"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.amount})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Discount"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.discountAmount})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:"Total"}),Object(N.jsx)("div",{className:"col-6",children:this.state.item.finalAmount})]}),Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"col-12",style:{color:"green",fontSize:14},children:["Cars: ",this.state.item.cars]})}),Object(N.jsx)("div",{className:"row",style:{color:"#e738eb",fontSize:14},children:Object(N.jsxs)("div",{className:"col-12",children:["Journy: ",this.state.item.distance,"KM  (",this.state.item.journyTime,")"]})}),Object(N.jsx)("div",{className:"row",style:{color:"red",fontSize:14},children:Object(N.jsxs)("div",{className:"col-12",children:["Note: ",Object(N.jsx)("span",{children:this.state.item.note})]})})]})]})})]}),Object(N.jsx)("div",{className:"bookingConfirmTabs",style:{marginBottom:5},children:Object(N.jsxs)(j.a,{defaultActiveKey:"tnc",id:"uncontrolled-tab-example",className:"mb-12",children:[Object(N.jsx)(b.a,{eventKey:"includes",title:"Includes",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-user-secret","aria-hidden":"true"})," Driver Allowance one way trip"]}),Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-inr","aria-hidden":"true"})," GST (5%)"]}),Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-road","aria-hidden":"true"})," ",this.state.item.distance,"Km Charges"]})]})}),Object(N.jsx)(b.a,{eventKey:"excludes",title:"Excludes",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-user-secret","aria-hidden":"true"})," Driver Allowance for round trip"]}),Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-inr","aria-hidden":"true"})," Toll / State tax"]}),Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-product-hunt","aria-hidden":"true"})," Parking"]}),Object(N.jsxs)("div",{className:"col-4",style:{textAlign:"center",padding:20},children:[Object(N.jsx)("i",{style:{padding:10,borderStyle:"ridge",borderRadius:"20%"},className:"fa fa-road","aria-hidden":"true"})," Pay \u20b9",this.state.item.extraRate,"/km after ",this.state.item.distance," km"]})]})}),Object(N.jsx)(b.a,{eventKey:"tnc",title:"T&C",children:Object(N.jsx)("div",{style:{backgroundColor:"white",padding:10},children:Object(N.jsxs)("ul",{style:{textAlign:"justify"},children:[Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"18% extra chargest for GST BIll"]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Day calculated according to english calender"]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"A/C will be turned off when cab is in halting, parking or in hilly area "]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Day starting at 6AM onword and ends at 10PM "]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"After 10PM 200Per Hours charges applicable still 1AM. After 1AM nest day will be calculated avrage of 300KM "]}),Object(N.jsxs)("li",{children:[" ",Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Car shall not nbe used for local use after completion of outstation trip."]}),Object(N.jsxs)("li",{children:[" ",Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Early morning pickup will charge Rs.300 only"]}),Object(N.jsxs)("li",{children:[" ",Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"For Round trip toll,parking, boundry tax will charged to customer"]}),Object(N.jsxs)("li",{children:[" ",Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Your Trip has a KM limit. If your usage exceeds this limit, you will be charged for the excess KM used."]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"We promote cleaner fuel and thus your cab can be a CNG vehicle. The driver may need to fill CNG once or more during your trip. Please cooperate with the driver."]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"For driving between 10:00 pm to 6:00 am on any of the nights, an additional allowance will be applicable and is to be paid to the driver."]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Your trip includes one pick up in Pick-up city and one drop to destination city. It does not include within city travel."]}),Object(N.jsxs)("li",{children:[Object(N.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"If your Trip has Hill climbs, cab AC may be switched off during such climbs."]})]})})})]})})]})})}),Object(N.jsx)(x.a,{})]})}}]),a}(d.Component);t.default=Object(O.f)(y)},43:function(e,t,a){(function(t){e.exports=t.config={apiUrl:"http://localhost:8080/",paymentKey:"rzp_test_8KHr7ine3uj7uk",bucketName:"vishwacarrentdata",region:"ap-south-1",accessKeyId:"AKIA57FA3HCF3ECFDQJF",secretAccessKey:"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",cdnUrl:"https://d394hnp8jvz6yg.cloudfront.net/"}}).call(this,a(15))},45:function(e,t,a){"use strict";a.r(t);var s=a(47),i=a(48),r=a(38),c=a(36),n=a(39),o=a(40),l=a(1),d=a(60),h=a(46),m=a(409),j=(a(43),a(52),a(49)),b=a(2),p=a(59),u=a.n(p),x=a(0),O=function(e){Object(n.a)(a,e);var t=Object(o.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).state={uid:"",userId:"",firstName:"",lastName:"",mobileNo:"",email:"",userType:"",show:!1},c.state={item:[],id:"",bookingId:"",mobileNo:"",otp:"",isOtpSent:"N",error:"",userPassword:"",timeOutInterval:0},c.startTimer=function(){console.log("setTimeout Called");setTimeout((function(){console.log("setTimeout Called=====");var e=localStorage.getItem("lastInteractionTime"),t=u.a.duration(u()().diff(u()(e))),a=c.state.timeOutInterval?c.state.timeOutInterval:6e4;console.log("lastInteractionTime:="+e),t._milliseconds<a&&c.startTimer()}),c.state.timeOutInterval?c.state.timeOutInterval:6e4)},c.setShow=function(e){c.setState({isOtpSent:"N"}),c.setState({mobileNo:""}),c.setState({otp:""});var t=c.state.show;console.log("val=="+t+"***"),c.setState({show:!t})},c.setMobile=function(e){console.log("===="+e.target.value),c.setState({mobileNo:e.target.value})},c.setOtp=function(e){c.setState({otp:e.target.value})},c.setUserPassword=function(e){c.setState({userPassword:e.target.value})},c.loginWithPassword=Object(i.a)(Object(s.a)().mark((function e(){var t,a,i,r,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({error:""}),t="&mobileNo="+c.state.mobileNo+"&userPassword="+c.state.userPassword,a={"Content-Type":"application/json"},"https://vishwacarrental.com:8080/v1/user_login?mobileNo="+c.state.mobileNo+"&userPassword="+c.state.userPassword,e.next=6,fetch("https://vishwacarrental.com:8080/user/user_login?"+t,{headers:a});case 6:return i=e.sent,console.log("+++response=="+JSON.stringify(i)),e.next=10,i.json();case 10:r=e.sent,console.log("Data="+JSON.stringify(r)),200==r.code?(n=r.data[0],console.log("userObj=="+JSON.stringify(n)+"==id="+n._id),localStorage.setItem("userId",n._id),localStorage.setItem("firstName",n.firstName),localStorage.setItem("lastName",n.lastName),localStorage.setItem("mobileNo",n.mobileNo),localStorage.setItem("email",n.email),localStorage.setItem("userType",n.userType),localStorage.setItem("token",n.token),"agent"==n.userType?window.location.href="agent/Home":"admin"==n.userType?window.location.href="admin/Home":"driver"==n.userType?window.location.href="driver/Home":window.location.href="/Home"):(c.setState({isOtpSent:"N"}),c.setState({error:"user not found"}));case 13:case"end":return e.stop()}}),e)}))),c.signOut=function(){console.log("here===sign out"),localStorage.setItem("userId",""),localStorage.setItem("firstName",""),localStorage.setItem("lastName",""),localStorage.setItem("mobileNo",""),localStorage.setItem("email",""),localStorage.setItem("userType",""),localStorage.setItem("token",""),c.setState({userId:""}),c.setState({firstName:""}),c.setState({lastName:""}),c.setState({mobileNo:""}),c.setState({email:""}),c.setState({userType:""}),window.location.href="/Home"},c.setState({isOtpSent:"N"}),localStorage.setItem("lastInteractionTime",u()()),console.log("userType Constructor=="+localStorage.getItem("userType")),c.startTimer(),c}return Object(c.a)(a,[{key:"super",value:function(){this.setShow.bind(this)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("userId");if(console.log("UserId=="+localStorage.getItem("userId")),console.log("userType=="+localStorage.getItem("userType")),e>0||null!=e){var t=localStorage.getItem("firstName"),a=localStorage.getItem("lastName"),s=localStorage.getItem("mobileNo"),i=localStorage.getItem("email"),r=localStorage.getItem("userType");localStorage.getItem("token");this.setState({userId:e}),this.setState({firstName:t}),this.setState({lastName:a}),this.setState({mobileNo:s}),this.setState({email:i}),this.setState({userType:r})}}},{key:"sendOtp",value:function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,a,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo,a={"Content-Type":"application/json"},{method:"GET",mode:"no-cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Origin":"*"}},e.next=6,fetch("https://vishwacarrental.com:8080/user/send_otp?"+t,{headers:a});case 6:return i=e.sent,e.next=9,i.json();case 9:200==e.sent.code?this.setState({isOtpSent:"Y"}):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyOtp",value:function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,a,i,r,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,a={"Content-Type":"application/json"},"https://c77b3hr0m0.execute-api.ap-south-1.amazonaws.com/v1/prayag-verifyOtp?mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,e.next=6,fetch("https://vishwacarrental.com:8080/user/verify_otp?"+t,{headers:a});case 6:return i=e.sent,e.next=9,i.json();case 9:r=e.sent,console.log("Data="+JSON.stringify(r)),200==r.code?(c=r.data[0],console.log("userObj=="+JSON.stringify(c)+"==id="+c._id),localStorage.setItem("userId",c._id),localStorage.setItem("firstName",c.firstName),localStorage.setItem("lastName",c.lastName),localStorage.setItem("mobileNo",c.mobileNo),localStorage.setItem("email",c.email),localStorage.setItem("userType",c.userType),localStorage.setItem("token",c.token),"agent"==c.userType?window.location.href="agent/Home":"admin"==c.userType?window.location.href="admin/Home":"driver"==c.userType?window.location.href="driver/Home":window.location.href="/Home"):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMenus",value:function(){return console.log("this.state.userType=="+this.state.userType),"admin"==this.state.userType?Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/admin/Home",children:"Home"})}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/AddCar",children:"My Cars"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/addDriver",children:"My Driver"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/addCabs",children:"Add Cabs"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/addSurge",children:"Surge"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/SpecialPrices",children:"Special Prices"})]})]}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Booking"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/agentWaiting",children:"Waiting for Agent"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/driverWaiting",children:"Waiting for Driver"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/ready",children:"Ready"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/completed",children:"Completed"})]})]}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/Booking",children:"Bookings"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/SearchLog",children:"Search Log"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/AllCars",children:"Cars"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/AllDrivers",children:"Drivers"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/admin/AllAgents",children:"Agents"})]})]}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",onClick:this.signOut,children:Object(x.jsx)("span",{children:"Sign Out"})})})]}):"user"==this.state.userType?Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/Home",children:"Home"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/History",children:"History"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/Profile",children:"Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(x.jsx)("span",{children:"Sign Out"})})})]}):"agent"==this.state.userType?Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/agent/Home",children:"Home"})}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Bookings"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/agent/myPendingBookings",children:"Pending"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/agent/myCompletedBookings",children:"Completed"})]})]}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/agent/profile",children:"Profile"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/agent/AddCar",children:"My Cars"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/agent/addDriver",children:"My Driver"})]})]}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(x.jsx)("span",{children:"Sign Out"})})})]}):"driver"==this.state.userType?Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/driver/Home",children:"Home"})}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(x.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(x.jsx)("a",{className:"dropdown-item",href:"/driver/profile",children:"Profile"})})]}),Object(x.jsxs)("li",{className:"nav-item dropdown",children:[Object(x.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(x.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(x.jsx)("a",{className:"dropdown-item",href:"/driver/booking-report",children:"Booking Report"}),Object(x.jsx)("a",{className:"dropdown-item",href:"/driver/bankDetails",children:"Payment Report"})]})]}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(x.jsx)("span",{children:"Sign Out"})})})]}):"operator"==this.state.userType?Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"active",children:Object(x.jsx)("a",{href:"/Home",children:"Home"})}),Object(x.jsx)("li",{className:"active",children:Object(x.jsx)("a",{href:"/History",children:"History"})}),Object(x.jsxs)("li",{class:"nav-item dropdown",children:[Object(x.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(x.jsx)("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(x.jsx)("a",{class:"dropdown-item",href:"#",children:"My Assign"})})]}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(x.jsx)("span",{children:"Sign Out"})})})]}):Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/Home",children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"/Login",children:Object(x.jsx)("span",{children:"Sign In"})})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{href:"/agent/Login",children:"Partner"})})]})}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"row",style:{backgroundColor:"#0e0d0d"},children:[Object(x.jsx)("div",{className:"header-detail col-md-6",children:Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:[Object(x.jsx)("a",{href:"https://api.whatsapp.com/send?phone=9987973223",children:Object(x.jsx)("img",{src:"https://d394hnp8jvz6yg.cloudfront.net/cabs/1678541979073.png",style:{height:30,width:30},alt:"whatsapp"})}),Object(x.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(x.jsx)("a",{href:"tel:+91 7710054367",children:"+91 7710054367"}),Object(x.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(x.jsx)("a",{href:"tel:+91 9136617676",children:"+91 9136617676"})]})})}),Object(x.jsx)("div",{className:"header-detail-r col-md-6",children:Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:[Object(x.jsx)("i",{className:"fa fa-envelope","aria-hidden":"true"}),Object(x.jsx)("a",{href:"mailto:vishwacarrental@gmail.com ",children:"vishwacarrental@gmail.com "})]})})})]}),Object(x.jsxs)("div",{className:"row d-flex align-items-center bgColor",children:[Object(x.jsx)("h1",{className:"logo mr-auto",children:Object(x.jsx)("a",{href:"/Home",children:Object(x.jsx)("img",{src:"/logo_cab.png",style:{width:100,padding:5,borderRadius:"12px"}})})}),Object(x.jsx)("nav",{className:"nav-menu d-none d-lg-block",children:this.getMenus()}),Object(x.jsxs)(d.a,{show:this.state.show,onHide:this.setShow.bind(this.state.show),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(x.jsx)(d.a.Header,{closeButton:!0,children:Object(x.jsx)(d.a.Title,{id:"example-custom-modal-styling-title",children:"Login"})}),Object(x.jsx)(d.a.Body,{children:Object(x.jsx)("section",{id:"pricing",className:"pricing",children:Object(x.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(x.jsx)(h.a,{children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Mobile No"}),Object(x.jsx)(j.a.Control,{name:"mobileNo",value:this.state.mobileNo,type:"text",placeholder:"Mobile No",onChange:this.setMobile})]})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Password"}),Object(x.jsx)(j.a.Control,{name:"userPassword",value:this.state.userPassword,type:"password",placeholder:"Paasword/Mobile No",onChange:this.setUserPassword})]})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(x.jsx)(m.a,{variant:"primary",type:"button",onClick:this.loginWithPassword.bind(this),children:"Login"})})})]})]})})})})})})})]})]})]})}}]),a}(l.Component);t.default=Object(b.f)(O)},53:function(e,t,a){"use strict";var s=a(38),i=a(36),r=a(39),c=a(40),n=a(1),o=a(2),l=a(0),d=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("footer",{id:"footer",children:[Object(l.jsx)("div",{className:"footer-top",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"https://wa.me/9987973223?text=Hey Buddy, I just want to chill with your car and make my tour easy. ",target:"_blank",title:"Connect with us on WhatsApp",children:Object(l.jsx)("img",{variant:"top",src:"https://d394hnp8jvz6yg.cloudfront.net/cabs/1678541979073.png",alt:"WhatsApp",style:{height:60,right:0,position:"fixed",bottom:30}})})}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-lg-3 col-md-6 footer-contact",children:[Object(l.jsx)("h3",{children:"Address"}),Object(l.jsxs)("p",{children:["VishwaJeet Cab Services",Object(l.jsx)("br",{}),"Head Office: D 1 prakash sadan Mohili Village sakinaka ",Object(l.jsx)("br",{}),"Mumbai 400072 ",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Mobile:"})," 7710054367,9136617676",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Email :"})," vishwacarrental@gmail.com",Object(l.jsx)("br",{})]})]}),Object(l.jsxs)("div",{className:"col-lg-2 col-md-6 footer-links",children:[Object(l.jsx)("h4",{children:"Useful Links"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(l.jsx)("a",{href:"/Home",children:"Home"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(l.jsx)("a",{href:"/Servises",children:"Services"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(l.jsx)("a",{href:"/privacyPolicy",children:"Pravacy Policy"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(l.jsx)("a",{href:"/Aboutus",children:"About Us"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(l.jsx)("a",{href:"/termCondition",children:"Term & Condition"})]})]})]})]})]})}),Object(l.jsxs)("div",{className:"container d-md-flex py-4",children:[Object(l.jsxs)("div",{className:"mr-md-auto text-center text-md-left",children:[Object(l.jsxs)("div",{className:"copyright",children:["\xa9 Copyright ",Object(l.jsx)("strong",{children:Object(l.jsx)("span",{children:"VishwaJeet Cab Services"})}),". All Rights Reserved"]}),Object(l.jsxs)("div",{className:"credits",children:["Designed by ",Object(l.jsx)("a",{href:"#",children:"Ellipse Software Technology"})]})]}),Object(l.jsxs)("div",{className:"social-links text-center text-md-right pt-3 pt-md-0",children:[Object(l.jsx)("a",{href:"#",className:"twitter",children:Object(l.jsx)("i",{className:"bx bxl-twitter"})}),Object(l.jsx)("a",{href:"#",className:"facebook",children:Object(l.jsx)("i",{className:"bx bxl-facebook"})}),Object(l.jsx)("a",{href:"#",className:"instagram",children:Object(l.jsx)("i",{className:"bx bxl-instagram"})}),Object(l.jsx)("a",{href:"#",className:"google-plus",children:Object(l.jsx)("i",{className:"bx bxl-skype"})}),Object(l.jsx)("a",{href:"#",className:"linkedin",children:Object(l.jsx)("i",{className:"bx bxl-linkedin"})})]})]})]})}}]),a}(n.Component);t.a=Object(o.f)(d)}}]);
//# sourceMappingURL=39.36149154.chunk.js.map