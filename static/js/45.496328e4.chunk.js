(this["webpackJsonpVishwa Car Rental"]=this["webpackJsonpVishwa Car Rental"]||[]).push([[45],{419:function(e,t,a){"use strict";a.r(t);var r=a(51),s=a(52),i=a(68),n=a(42),c=a(41),o=a(43),l=a(44),d=a(1),h=a(49),p=a(389),j=a(53),b=a(48),m=(a(55),a(75),a(2)),u=a.n(m),g=a(54),O=a.n(g),f=a(3),x=a(0),y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var c,o;return Object(n.a)(this,a),(o=t.call(this,e)).state=(c={userId:"",agentId:"",item:[],error:"",isLoading:!1,loadingColor:"#ffffff",pageId:1,mobileNo:"",firstName:"",lastName:""},Object(i.a)(c,"mobileNo",""),Object(i.a)(c,"email",""),Object(i.a)(c,"adharNo",""),Object(i.a)(c,"addharLink",""),Object(i.a)(c,"licenseLink",""),Object(i.a)(c,"rcLink",""),Object(i.a)(c,"officeAddress",""),Object(i.a)(c,"companyName",""),Object(i.a)(c,"companyReglink",""),Object(i.a)(c,"addharError",""),Object(i.a)(c,"accountStatus","pending"),Object(i.a)(c,"licenseError",""),Object(i.a)(c,"rcError",""),Object(i.a)(c,"companyError",""),Object(i.a)(c,"companyVerified","N"),Object(i.a)(c,"adharVerified","N"),Object(i.a)(c,"licenseVerified","N"),Object(i.a)(c,"rcVerified","N"),c),o.invalidAgent=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},i={userId:o.state.userId,agentId:o.state.agentId,type:t,status:"invalid"},e.next=6,O.a.put("https://vishwacarrental.com:8080/admin/update_agent_status",i,{headers:s});case 6:n=e.sent,console.log(n.data+"resultpay:"+JSON.stringify(n.data)),200==n.data.code?(o.setState({error:"Car blocked"}),o.getAgent(o.state.userId,o.state.agentId)):o.setState({error:"Something went wrong"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error:"+JSON.stringify(e.t0.response)),o.setState({isOtpSent:"N"}),o.setState({error:e.t0.response.data.message});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),o.deleteAgent=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},i={userId:o.state.userId,agentId:o.state.agentId,type:t,status:"delete"},e.next=6,O.a.put("https://vishwacarrental.com:8080/admin/update_agent_status",i,{headers:s});case 6:n=e.sent,console.log(n.data+"resultpay:"+JSON.stringify(n.data)),200==n.data.code?(o.setState({error:"Car deleted"}),o.getAgent(o.state.userId,o.state.agentId)):o.setState({error:"Something went wrong"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error:"+JSON.stringify(e.t0.response)),o.setState({isOtpSent:"N"}),o.setState({error:e.t0.response.data.message});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),o.approveAgent=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},i="&userId="+o.state.userId+"&agentId="+o.state.agentId+"&type="+t+"&status=approve",e.next=6,O.a.put("https://vishwacarrental.com:8080/admin/update_agent_status",i,{headers:s});case 6:n=e.sent,console.log(n.data+"resultpay:"+JSON.stringify(n.data)),200==n.data.code?(o.setState({error:"Car approved"}),o.getAgent(o.state.userId,o.state.agentId)):o.setState({error:"Something went wrong"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error:"+JSON.stringify(e.t0.response)),o.setState({isOtpSent:"N"}),o.setState({error:e.t0.response.data.message});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),o.updateAgent=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},i="&userId="+o.state.userId+"&agentId="+o.state.agentId+"&status="+t,console.log("Data:="+i),e.next=7,O.a.put("https://vishwacarrental.com:8080/admin/agent_activate",i,{headers:s});case 7:n=e.sent,console.log(n.data+"resultpay:"+JSON.stringify(n.data)),200==n.data.code?(o.setState({error:"status updated"}),"delete"==t?window.location.href="/admin/AllAgents":o.getAgent(o.state.userId,o.state.agentId)):o.setState({error:"Something went wrong"}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error:"+JSON.stringify(e.t0.response)),o.setState({isOtpSent:"N"}),o.setState({error:"Something went wrong"});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0});var e=localStorage.getItem("userId");this.setState({userId:e}),this.setState({agentId:this.props.match.params.agentId}),this.getAgent(e,this.props.match.params.agentId)}},{key:"showPopup",value:function(e){this.prePayment(e)}},{key:"getAgent",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,n,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),i={Authorization:"Bearer ".concat(s)},n="&userId="+t+"&agentId="+a,e.next=5,fetch("https://vishwacarrental.com:8080/admin/get_agentbyid?"+n,{headers:i});case 5:return c=e.sent,console.log("+++response=="+JSON.stringify(c)),e.next=9,c.json();case 9:200==(o=e.sent).code?(this.setState({item:o.data}),this.setState({mobileNo:o.data.mobileNo}),this.setState({firstName:o.data.firstName}),this.setState({lastName:o.data.lastName}),this.setState({email:o.data.email}),this.setState({status:o.data.status}),this.setState({addharLink:o.agentData.adharLink}),this.setState({licenseLink:o.agentData.licenseLink}),this.setState({rcLink:o.agentData.rcLink}),this.setState({companyName:o.agentData.companyName}),this.setState({companyReglink:o.agentData.registrationCopy}),this.setState({officeAddress:o.agentData.officeAddress}),this.setState({companyVerified:o.agentData.companyVerified}),this.setState({adharVerified:o.agentData.adharVerified}),this.setState({licenseVerified:o.agentData.licenseVerified}),this.setState({rcVerified:o.agentData.rcVerified}),this.setState({accountStatus:o.agentData.accountStatus})):console.log("errorr"),this.setState({isLoading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.default,{}),Object(x.jsx)("div",{children:Object(x.jsx)(u.a,{css:"\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n        position: absolute;\n        z-index: 9;\n        margin: 0px auto;\n        left: 40%;\n        ",style:{borderColor:"red"},color:this.state.loadingColor,loading:this.state.isLoading,size:150,children:"  "})}),Object(x.jsx)("div",{children:Object(x.jsx)("section",{id:"pricing",className:"pricing",children:Object(x.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(x.jsxs)(h.a,{children:[Object(x.jsxs)(h.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:["Profile ","active"==this.state.accountStatus?Object(x.jsx)("span",{children:Object(x.jsx)("i",{className:"fa fa-check",style:{color:"green",fontSize:20},"aria-hidden":"true"})}):null]}),Object(x.jsxs)(h.a.Body,{children:[Object(x.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"First Name"}),Object(x.jsx)(j.a.Control,{type:"text",placeholder:"First Name",value:this.state.firstName})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Last Name"}),Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Last Name",value:this.state.lastName})]})})]}),Object(x.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Mobile No."}),Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Mobile No",value:this.state.mobileNo})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Email"}),Object(x.jsx)(j.a.Control,{type:"email",placeholder:"Email",value:this.state.email})]})})]}),Object(x.jsx)("div",{className:"col-12",children:"pending"==this.state.accountStatus?Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:[Object(x.jsx)(p.a,{variant:"primary",style:{marginRight:5},type:"button",onClick:this.updateAgent.bind(this,"approve"),children:"Activate"}),Object(x.jsx)(p.a,{variant:"primary",style:{marginRight:5},type:"button",onClick:this.updateAgent.bind(this,"delete"),children:"Delete"})]}):Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:[Object(x.jsx)(p.a,{variant:"primary",style:{marginRight:5},type:"button",onClick:this.updateAgent.bind(this,"deactivate"),children:"Deactivate"}),Object(x.jsx)(p.a,{variant:"primary",style:{marginRight:5},type:"button",onClick:this.updateAgent.bind(this,"delete"),children:"Delete"})]})})]})]})}),Object(x.jsx)("div",{className:"col-lg-12 col-md-12",style:{marginTop:10},children:Object(x.jsxs)(h.a,{children:[Object(x.jsxs)(h.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:["Company Details ","Y"==this.state.companyVerified?Object(x.jsx)("span",{children:Object(x.jsx)("i",{className:"fa fa-check",style:{color:"green",fontSize:20},"aria-hidden":"true"})}):null]}),Object(x.jsxs)(h.a.Body,{children:[Object(x.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Company Name"}),Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Company Name",value:this.state.companyName})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Office Address"}),Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Office Address",value:this.state.officeAddress})]})})]}),Object(x.jsx)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:Object(x.jsx)("div",{children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)("img",{src:this.state.companyReglink,width:200})})})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:"N"==this.state.companyVerified?Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.approveAgent.bind(this,"company"),children:"Approve"}):Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.invalidAgent.bind(this,"company"),children:"Invalid"})})})]})]})}),Object(x.jsx)("div",{className:"col-lg-12 col-md-12",style:{marginTop:10},children:Object(x.jsxs)(h.a,{children:[Object(x.jsxs)(h.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:["Addhar Copy ","Y"==this.state.adharVerified?Object(x.jsx)("span",{children:Object(x.jsx)("i",{className:"fa fa-check",style:{color:"green",fontSize:20},"aria-hidden":"true"})}):null]}),Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)("img",{src:this.state.addharLink,width:200})})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:"N"==this.state.adharVerified?Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.approveAgent.bind(this,"addhar"),children:"Approve"}):Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.invalidAgent.bind(this,"addhar"),children:"Invalid"})})})]})]})}),Object(x.jsx)("div",{className:"col-lg-12 col-md-12",style:{marginTop:10},children:Object(x.jsxs)(h.a,{children:[Object(x.jsxs)(h.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:["License Copy ","Y"==this.state.licenseVerified?Object(x.jsx)("span",{children:Object(x.jsx)("i",{className:"fa fa-check",style:{color:"green",fontSize:20},"aria-hidden":"true"})}):null]}),Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)("img",{src:this.state.licenseLink,width:200})})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:"N"==this.state.licenseVerified?Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.approveAgent.bind(this,"license"),children:"Approve"}):Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.invalidAgent.bind(this,"license"),children:"Invalid"})})})]})]})}),Object(x.jsx)("div",{className:"col-lg-12 col-md-12",style:{marginTop:10},children:Object(x.jsxs)(h.a,{children:[Object(x.jsxs)(h.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:["RC Copy ","Y"==this.state.rcVerified?Object(x.jsx)("span",{children:Object(x.jsx)("i",{className:"fa fa-check",style:{color:"green",fontSize:20},"aria-hidden":"true"})}):null]}),Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)("img",{src:this.state.rcLink,width:200})})}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:"N"==this.state.rcVerified?Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.approveAgent.bind(this,"rc"),children:"Approve"}):Object(x.jsx)(p.a,{variant:"primary",type:"button",onClick:this.invalidAgent.bind(this,"rc"),children:"Invalid"})})})]})]})})]})})})})]})}}]),a}(d.Component);t.default=Object(f.f)(y)},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(88);function s(e,t,a){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}}}]);
//# sourceMappingURL=45.496328e4.chunk.js.map