(this.webpackJsonpVishvajeet=this.webpackJsonpVishvajeet||[]).push([[38,52],{429:function(e,t,a){"use strict";a.r(t);var r=a(47),s=a(48),n=a(38),i=a(36),c=a(39),o=a(40),l=a(1),d=a(46),h=a(409),p=a(81),j=a(49),b=a(45),m=a(33),u=a.n(m),g=a(52),x=a.n(g),O=a(2),f=a(157),y=a.n(f),v=a(59),S=a.n(v),w=a(0),N=a(158),I=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={userId:"",item:[],error:"",isLoading:!1,loadingColor:"#ffffff",pageNo:0,payment_orderId:"",carModelName:"",carType:"",carNo:"",rcBook:"",extraRate:0,cabType:"",ac:"N",bags:"0",capacity:0,cars:"",rate:0,returTripRate:0,discount:0,cabImage:"",perDayKmReturn:0,perDayKmSingle:0,cabId:0,note:"",cabTypes:[],errorListing:""},i.addCabs=Object(s.a)(Object(r.a)().mark((function e(){var t,a,s,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),{Authorization:"Bearer ".concat(t)},""!=i.state.cabType&&null!=i.state.cabType){e.next=5;break}return i.setState({error:"Please enter car number"}),e.abrupt("return",!1);case 5:if(""!=i.state.perDayKmReturn&&null!=i.state.perDayKmReturn){e.next=8;break}return i.setState({error:"Please enter per day min Km for return trip"}),e.abrupt("return",!1);case 8:if(""!=i.state.perDayKmSingle&&null!=i.state.perDayKmSingle){e.next=11;break}return i.setState({error:"Please enter per day min Km for single trip"}),e.abrupt("return",!1);case 11:if(""!=i.state.rate&&null!=i.state.rate){e.next=14;break}return i.setState({error:"Please enter Rate"}),e.abrupt("return",!1);case 14:if(""!=i.state.returTripRate&&null!=i.state.returTripRate){e.next=17;break}return i.setState({error:"Please enter Return trip rate"}),e.abrupt("return",!1);case 17:if(""!=i.state.extraRate&&null!=i.state.perDayKmSingle){e.next=20;break}return i.setState({error:"Please enter Extra Km Rate"}),e.abrupt("return",!1);case 20:return a={userId:i.state.userId,cabType:i.state.cabType,ac:i.state.ac,bags:i.state.bags,capacity:i.state.capacity,perDayKmReturn:i.state.perDayKmReturn,perDayKmSingle:i.state.perDayKmSingle,cars:i.state.cars,rate:i.state.rate,returTripRate:i.state.returTripRate,discount:i.state.discount,extraRate:i.state.extraRate,cabImage:i.state.cabImage},e.prev=21,s=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},e.next=26,x.a.post("https://vishwacarrental.com:8080/admin/add_cab",a,{headers:n});case 26:200==e.sent.data.code?(i.setState({error:"Cab Added"}),i.setState({cabType:""}),i.setState({ac:""}),i.setState({bags:""}),i.setState({capacity:""}),i.setState({perDayKmReturn:0}),i.setState({perDayKmSingle:0}),i.setState({cars:""}),i.setState({rate:0}),i.setState({returTripRate:0}),i.setState({discount:0}),i.setState({extraRate:0}),i.setState({cabImage:""}),i.getCabs(i.state.userId)):i.setState({error:"Internal error"}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(21),i.setState({isOtpSent:"N"}),i.setState({error:e.t0.response.data.message});case 34:i.setState({isLoading:!1});case 35:case"end":return e.stop()}}),e,null,[[21,30]])}))),i.editCabs=Object(s.a)(Object(r.a)().mark((function e(){var t,a,s,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),{Authorization:"Bearer ".concat(t)},!(i.state.cabId<1||null==i.state.cabId)){e.next=5;break}return i.setState({error:"Something went wrong"}),e.abrupt("return",!1);case 5:if(""!=i.state.cabType&&null!=i.state.cabType){e.next=8;break}return i.setState({error:"Please enter car number"}),e.abrupt("return",!1);case 8:if(""!=i.state.perDayKmReturn&&null!=i.state.perDayKmReturn){e.next=11;break}return i.setState({error:"Please enter per day min Km for return trip"}),e.abrupt("return",!1);case 11:if(""!=i.state.perDayKmSingle&&null!=i.state.perDayKmSingle){e.next=14;break}return i.setState({error:"Please enter per day min Km for single trip"}),e.abrupt("return",!1);case 14:if(""!=i.state.rate&&null!=i.state.rate){e.next=17;break}return i.setState({error:"Please enter Rate"}),e.abrupt("return",!1);case 17:if(""!=i.state.returTripRate&&null!=i.state.returTripRate){e.next=20;break}return i.setState({error:"Please enter Return trip rate"}),e.abrupt("return",!1);case 20:if(""!=i.state.extraRate&&null!=i.state.perDayKmSingle){e.next=23;break}return i.setState({error:"Please enter Extra Km Rate"}),e.abrupt("return",!1);case 23:return a={userId:i.state.userId,cabId:i.state.cabId,cabType:i.state.cabType,ac:i.state.ac,bags:i.state.bags,capacity:i.state.capacity,perDayKmReturn:i.state.perDayKmReturn,perDayKmSingle:i.state.perDayKmSingle,cars:i.state.cars,rate:i.state.rate,returTripRate:i.state.returTripRate,discount:i.state.discount,extraRate:i.state.extraRate,cabImage:i.state.cabImage},e.prev=24,s=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},e.next=29,x.a.put("https://vishwacarrental.com:8080/admin/update_cab",a,{headers:n});case 29:200==e.sent.data.code?(i.setState({error:"Cab updated"}),i.setState({cabType:""}),i.setState({ac:""}),i.setState({bags:""}),i.setState({capacity:""}),i.setState({perDayKmReturn:0}),i.setState({perDayKmSingle:0}),i.setState({cars:""}),i.setState({rate:0}),i.setState({returTripRate:0}),i.setState({discount:0}),i.setState({extraRate:0}),i.setState({cabImage:""}),i.getCabs(i.state.userId)):i.setState({error:"Internal error"}),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(24),i.setState({isOtpSent:"N"}),i.setState({error:e.t0.response.data.message});case 37:i.setState({isLoading:!1});case 38:case"end":return e.stop()}}),e,null,[[24,33]])}))),i.setExtraRate=function(e){i.setState({extraRate:e.target.value})},i.setCabType=function(e){i.setState({cabType:e.target.value})},i.setAc=function(e){i.setState({ac:e.target.value})},i.setBags=function(e){i.setState({bags:e.target.value})},i.setCapacity=function(e){i.setState({capacity:e.target.value})},i.setCars=function(e){i.setState({cars:e.target.value})},i.setRate=function(e){i.setState({rate:e.target.value})},i.setReturTripRate=function(e){i.setState({returTripRate:e.target.value})},i.setDiscount=function(e){i.setState({discount:e.target.value})},i.setPerDayKmReturn=function(e){i.setState({perDayKmReturn:e.target.value})},i.setPerDayKmSingle=function(e){i.setState({perDayKmSingle:e.target.value})},i.deleteCab=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.setState({cabId:0}),a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},n="&userId="+i.state.userId+"&cabId="+t,e.next=7,x.a.delete("https://vishwacarrental.com:8080/admin/cab?"+n,{headers:s});case 7:200==e.sent.data.code?(i.setState({error:"Cab deleted successfully"}),i.getCabs(i.state.userId)):i.setState({error:"Something went wrong"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i.setState({isOtpSent:"N"}),i.setState({error:e.t0.response.data.message});case 15:i.setState({isLoading:!1});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),i.setCabImage=function(e){var t=e.target.files[0],a=t.size,r=t.name.split(".").pop(),s=S.a.now()+"."+r;N.config().parsed;if(a>11e4)return i.setState({error:"Image size must be <100kb"}),i.setState({rcLink:""}),!1;i.setState({isLoading:!0});var n=new y.a({bucketName:"vishwacarrentdata",dirName:"cabs",region:"ap-south-1",accessKeyId:"AKIA57FA3HCF3ECFDQJF",secretAccessKey:"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"}),c="https://d394hnp8jvz6yg.cloudfront.net/cabs/"+s;console.log("fileUrl:"+c),n.uploadFile(t,s).then((function(e){i.setState({cabImage:c})})).catch((function(e){i.setState({error:"File Not uploaded, Please try again"})})),i.setState({isLoading:!1})},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0});var e=localStorage.getItem("userId");this.setState({userId:e}),this.getCabs(e),this.getCabTypes(e)}},{key:"getCabs",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,n,i,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({cabId:0}),a=localStorage.getItem("token"),s=this.state.pageNo+1,n={Authorization:"Bearer ".concat(a)},i="&userId="+t+"&pageId="+s,e.next=8,x.a.get("https://vishwacarrental.com:8080/admin/get_cabs?"+i,{headers:n});case 8:200==(c=e.sent).data.code&&(console.log("cabData:"+JSON.stringify(c)),this.setState({item:c.data.data})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({isOtpSent:"N"}),this.setState({errorListing:e.t0.response.data.message});case 16:this.setState({isLoading:!1});case 17:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCabTypes",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,n,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),this.state.pageNo+1,s={Authorization:"Bearer ".concat(a)},n="&userId="+t,e.next=7,x.a.get("https://vishwacarrental.com:8080/admin/get_cab_types?"+n,{headers:s});case 7:200==(i=e.sent).data.code&&(console.log("CabTypes:"+JSON.stringify(i.data.data)),this.setState({cabTypes:i.data.data})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),this.setState({isOtpSent:"N"}),this.setState({error:e.t0.response.data.message});case 15:this.setState({isLoading:!1});case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"viewCabs",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,n,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},n="&userId="+this.state.userId+"&cabId="+t,e.next=6,x.a.get("https://vishwacarrental.com:8080/admin/get_cabbyid?"+n,{headers:s});case 6:200==(i=e.sent).data.code&&(this.setState({cabType:i.data.data.cabType}),this.setState({ac:i.data.data.ac}),this.setState({bags:i.data.data.bags}),this.setState({note:i.data.data.note}),this.setState({rate:i.data.data.rate}),this.setState({returTripRate:i.data.data.returnTripRate}),this.setState({discount:i.data.data.discount}),this.setState({extraRate:i.data.data.extraRate}),this.setState({perDayKmReturn:i.data.data.PerDayKmReturn}),this.setState({perDayKmSingle:i.data.data.PerDayKmSingle}),this.setState({cabImage:i.data.data.image}),this.setState({capacity:i.data.data.capacity}),this.setState({cars:i.data.data.cars}),this.setState({cabId:i.data.data._id})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({isOtpSent:"N"}),this.setState({error:e.t0.response.data.message});case 14:this.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onInputHandler",value:function(e){var t=e.target;t.name,t.value}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{children:[Object(w.jsx)(b.default,{}),Object(w.jsx)("div",{children:Object(w.jsx)(u.a,{css:"\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n        position: absolute;\n        z-index: 9;\n        margin: 0px auto;\n        left: 40%;\n        ",style:{borderColor:"red"},color:this.state.loadingColor,loading:this.state.isLoading,size:150,children:"  "})}),Object(w.jsx)("div",{children:Object(w.jsx)("section",{id:"pricing",className:"pricing",children:Object(w.jsxs)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(w.jsxs)(d.a,{children:[Object(w.jsx)(d.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:"Add Cab Type"}),Object(w.jsxs)(d.a.Body,{children:[Object(w.jsx)("div",{style:{color:"red"},children:this.state.error}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Cab Type ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsxs)("select",{className:"form-control",value:this.state.cabType,onChange:this.setCabType,children:[Object(w.jsx)("option",{value:"",children:"Select Car Type"}),this.state.cabTypes.map((function(e,t){return Object(w.jsx)("option",{value:e.cabType,children:e.cabType})}))]})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["AC",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsxs)("select",{className:"form-control",value:this.state.ac,onChange:this.setAc,children:[Object(w.jsx)("option",{value:"Y",children:"Yes"}),Object(w.jsx)("option",{value:"N",children:"No"})]})]})})]}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Bags ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"bags",type:"text",placeholder:"Bags",value:this.state.bags,onChange:this.setBags})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Capacity ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"capacity",type:"text",placeholder:"Capacity",value:this.state.capacity,onChange:this.setCapacity})]})})]}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Minimum Return Trip Km ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"PerDayKmReturn",type:"text",placeholder:"PerDayKmReturn",value:this.state.perDayKmReturn,onChange:this.setPerDayKmReturn})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Minimum Oneway Trip Km ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"perDayKmSingle",type:"text",placeholder:"perDayKmSingle",value:this.state.perDayKmSingle,onChange:this.setPerDayKmSingle})]})})]}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Cars ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"cars",type:"text",placeholder:"Cars",value:this.state.cars,onChange:this.setCars})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Rate ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"rate",type:"text",placeholder:"Rate",value:this.state.rate,onChange:this.setRate})]})})]}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Return Trip Rate ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"returTripRate",type:"text",placeholder:"Return trip rate",value:this.state.returTripRate,onChange:this.setReturTripRate})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Discount ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"discount",type:"text",placeholder:"Discount",value:this.state.discount,onChange:this.setDiscount})]})})]}),Object(w.jsxs)("div",{className:"col-12",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:10},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Extra Rate ",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{name:"extraRate",type:"text",placeholder:"Car Model Name`",value:this.state.extraRate,onChange:this.setExtraRate})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsxs)(j.a.Label,{children:["Upload Image",Object(w.jsx)("spam",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(j.a.Control,{type:"file",onChange:this.setCabImage,placeholder:"Select RC"})]})})]}),Object(w.jsx)("div",{className:"col-12",children:this.state.cabId<1?Object(w.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(w.jsx)(h.a,{variant:"primary",type:"button",onClick:this.addCabs.bind(this),children:"Add Cab type"})}):Object(w.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(w.jsx)(h.a,{variant:"primary",type:"button",onClick:this.editCabs.bind(this),children:"Update Cab type"})})})]})]})})}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(w.jsxs)(d.a,{children:[Object(w.jsx)(d.a.Title,{className:"bgColor",style:{fontSize:16,fontWeight:"bold",borderRadius:"5px 5px 0px 0px",padding:10,color:"white"},children:"Cabs "}),Object(w.jsx)(d.a.Body,{children:Object(w.jsxs)("div",{style:{color:"red"},children:[Object(w.jsx)("div",{children:this.state.errorListing}),Object(w.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Type"}),Object(w.jsx)("th",{children:"Rate"}),Object(w.jsx)("th",{children:"Return TripRate"}),Object(w.jsx)("th",{children:"Discount"}),Object(w.jsx)("th",{children:"ExtraRate"}),Object(w.jsx)("th",{children:"PerDayKmReturn"}),Object(w.jsx)("th",{children:"PerDayKmSingle"}),Object(w.jsx)("th",{children:"Ac "}),Object(w.jsx)("th",{children:"Bags"}),Object(w.jsx)("th",{children:"Capacity"}),Object(w.jsx)("th",{children:"Action"})]})}),Object(w.jsx)("tbody",{children:this.state.item.map((function(t,a){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:t.cabType}),Object(w.jsx)("td",{children:t.rate}),Object(w.jsx)("td",{children:t.returnTripRate}),Object(w.jsx)("td",{children:t.discount}),Object(w.jsx)("td",{children:t.extraRate}),Object(w.jsx)("td",{children:t.PerDayKmReturn}),Object(w.jsx)("td",{children:t.PerDayKmSingle}),Object(w.jsx)("td",{children:t.ac}),Object(w.jsx)("td",{children:t.bags}),Object(w.jsx)("td",{children:t.capacity}),Object(w.jsxs)("td",{children:[Object(w.jsx)(h.a,{style:{float:"right",marginRight:5},variant:"primary",type:"button",onClick:e.viewCabs.bind(e,t._id),children:Object(w.jsx)("i",{className:"fa fa-edit iconStyle","aria-hidden":"true"})}),"\xa0\xa0",Object(w.jsx)(h.a,{style:{float:"right",marginRight:5},variant:"primary",type:"button",onClick:e.deleteCab.bind(e,t._id),children:Object(w.jsx)("i",{className:"fa fa-remove iconStyle","aria-hidden":"true"})})]})]},a)}))})]})]})})]})})})]})})})]})}}]),a}(l.Component);t.default=Object(O.f)(I)},43:function(e,t,a){(function(t){e.exports=t.config={apiUrl:"http://localhost:8080/",paymentKey:"rzp_test_8KHr7ine3uj7uk",bucketName:"vishwacarrentdata",region:"ap-south-1",accessKeyId:"AKIA57FA3HCF3ECFDQJF",secretAccessKey:"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",cdnUrl:"https://d394hnp8jvz6yg.cloudfront.net/"}}).call(this,a(15))},45:function(e,t,a){"use strict";a.r(t);var r=a(47),s=a(48),n=a(38),i=a(36),c=a(39),o=a(40),l=a(1),d=a(60),h=a(46),p=a(409),j=(a(43),a(52),a(49)),b=a(2),m=a(59),u=a.n(m),g=a(0),x=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={uid:"",userId:"",firstName:"",lastName:"",mobileNo:"",email:"",userType:"",show:!1},i.state={item:[],id:"",bookingId:"",mobileNo:"",otp:"",isOtpSent:"N",error:"",userPassword:"",timeOutInterval:0},i.startTimer=function(){console.log("setTimeout Called");setTimeout((function(){console.log("setTimeout Called=====");var e=localStorage.getItem("lastInteractionTime"),t=u.a.duration(u()().diff(u()(e))),a=i.state.timeOutInterval?i.state.timeOutInterval:6e4;console.log("lastInteractionTime:="+e),t._milliseconds<a&&i.startTimer()}),i.state.timeOutInterval?i.state.timeOutInterval:6e4)},i.setShow=function(e){i.setState({isOtpSent:"N"}),i.setState({mobileNo:""}),i.setState({otp:""});var t=i.state.show;console.log("val=="+t+"***"),i.setState({show:!t})},i.setMobile=function(e){console.log("===="+e.target.value),i.setState({mobileNo:e.target.value})},i.setOtp=function(e){i.setState({otp:e.target.value})},i.setUserPassword=function(e){i.setState({userPassword:e.target.value})},i.loginWithPassword=Object(s.a)(Object(r.a)().mark((function e(){var t,a,s,n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({error:""}),t="&mobileNo="+i.state.mobileNo+"&userPassword="+i.state.userPassword,a={"Content-Type":"application/json"},"https://vishwacarrental.com:8080/v1/user_login?mobileNo="+i.state.mobileNo+"&userPassword="+i.state.userPassword,e.next=6,fetch("https://vishwacarrental.com:8080/user/user_login?"+t,{headers:a});case 6:return s=e.sent,console.log("+++response=="+JSON.stringify(s)),e.next=10,s.json();case 10:n=e.sent,console.log("Data="+JSON.stringify(n)),200==n.code?(c=n.data[0],console.log("userObj=="+JSON.stringify(c)+"==id="+c._id),localStorage.setItem("userId",c._id),localStorage.setItem("firstName",c.firstName),localStorage.setItem("lastName",c.lastName),localStorage.setItem("mobileNo",c.mobileNo),localStorage.setItem("email",c.email),localStorage.setItem("userType",c.userType),localStorage.setItem("token",c.token),"agent"==c.userType?window.location.href="agent/Home":"admin"==c.userType?window.location.href="admin/Home":"driver"==c.userType?window.location.href="driver/Home":window.location.href="/Home"):(i.setState({isOtpSent:"N"}),i.setState({error:"user not found"}));case 13:case"end":return e.stop()}}),e)}))),i.signOut=function(){console.log("here===sign out"),localStorage.setItem("userId",""),localStorage.setItem("firstName",""),localStorage.setItem("lastName",""),localStorage.setItem("mobileNo",""),localStorage.setItem("email",""),localStorage.setItem("userType",""),localStorage.setItem("token",""),i.setState({userId:""}),i.setState({firstName:""}),i.setState({lastName:""}),i.setState({mobileNo:""}),i.setState({email:""}),i.setState({userType:""}),window.location.href="/Home"},i.setState({isOtpSent:"N"}),localStorage.setItem("lastInteractionTime",u()()),console.log("userType Constructor=="+localStorage.getItem("userType")),i.startTimer(),i}return Object(i.a)(a,[{key:"super",value:function(){this.setShow.bind(this)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("userId");if(console.log("UserId=="+localStorage.getItem("userId")),console.log("userType=="+localStorage.getItem("userType")),e>0||null!=e){var t=localStorage.getItem("firstName"),a=localStorage.getItem("lastName"),r=localStorage.getItem("mobileNo"),s=localStorage.getItem("email"),n=localStorage.getItem("userType");localStorage.getItem("token");this.setState({userId:e}),this.setState({firstName:t}),this.setState({lastName:a}),this.setState({mobileNo:r}),this.setState({email:s}),this.setState({userType:n})}}},{key:"sendOtp",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo,a={"Content-Type":"application/json"},{method:"GET",mode:"no-cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Origin":"*"}},e.next=6,fetch("https://vishwacarrental.com:8080/user/send_otp?"+t,{headers:a});case 6:return s=e.sent,e.next=9,s.json();case 9:200==e.sent.code?this.setState({isOtpSent:"Y"}):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyOtp",value:function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,s,n,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,a={"Content-Type":"application/json"},"https://c77b3hr0m0.execute-api.ap-south-1.amazonaws.com/v1/prayag-verifyOtp?mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,e.next=6,fetch("https://vishwacarrental.com:8080/user/verify_otp?"+t,{headers:a});case 6:return s=e.sent,e.next=9,s.json();case 9:n=e.sent,console.log("Data="+JSON.stringify(n)),200==n.code?(i=n.data[0],console.log("userObj=="+JSON.stringify(i)+"==id="+i._id),localStorage.setItem("userId",i._id),localStorage.setItem("firstName",i.firstName),localStorage.setItem("lastName",i.lastName),localStorage.setItem("mobileNo",i.mobileNo),localStorage.setItem("email",i.email),localStorage.setItem("userType",i.userType),localStorage.setItem("token",i.token),"agent"==i.userType?window.location.href="agent/Home":"admin"==i.userType?window.location.href="admin/Home":"driver"==i.userType?window.location.href="driver/Home":window.location.href="/Home"):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMenus",value:function(){return console.log("this.state.userType=="+this.state.userType),"admin"==this.state.userType?Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/admin/Home",children:"Home"})}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/AddCar",children:"My Cars"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/addDriver",children:"My Driver"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/addCabs",children:"Add Cabs"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/addSurge",children:"Surge"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/SpecialPrices",children:"Special Prices"})]})]}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Booking"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/agentWaiting",children:"Waiting for Agent"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/driverWaiting",children:"Waiting for Driver"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/ready",children:"Ready"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/completed",children:"Completed"})]})]}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/Booking",children:"Bookings"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/SearchLog",children:"Search Log"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/AllCars",children:"Cars"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/AllDrivers",children:"Drivers"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/admin/AllAgents",children:"Agents"})]})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"#",onClick:this.signOut,children:Object(g.jsx)("span",{children:"Sign Out"})})})]}):"user"==this.state.userType?Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/Home",children:"Home"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/History",children:"History"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/Profile",children:"Profile"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(g.jsx)("span",{children:"Sign Out"})})})]}):"agent"==this.state.userType?Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/agent/Home",children:"Home"})}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Bookings"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/agent/myPendingBookings",children:"Pending"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/agent/myCompletedBookings",children:"Completed"})]})]}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/agent/profile",children:"Profile"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/agent/AddCar",children:"My Cars"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/agent/addDriver",children:"My Driver"})]})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(g.jsx)("span",{children:"Sign Out"})})})]}):"driver"==this.state.userType?Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/driver/Home",children:"Home"})}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(g.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(g.jsx)("a",{className:"dropdown-item",href:"/driver/profile",children:"Profile"})})]}),Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(g.jsx)("a",{className:"dropdown-item",href:"/driver/booking-report",children:"Booking Report"}),Object(g.jsx)("a",{className:"dropdown-item",href:"/driver/bankDetails",children:"Payment Report"})]})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(g.jsx)("span",{children:"Sign Out"})})})]}):"operator"==this.state.userType?Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"active",children:Object(g.jsx)("a",{href:"/Home",children:"Home"})}),Object(g.jsx)("li",{className:"active",children:Object(g.jsx)("a",{href:"/History",children:"History"})}),Object(g.jsxs)("li",{class:"nav-item dropdown",children:[Object(g.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(g.jsx)("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(g.jsx)("a",{class:"dropdown-item",href:"#",children:"My Assign"})})]}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(g.jsx)("span",{children:"Sign Out"})})})]}):Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/Home",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/Login",children:Object(g.jsx)("span",{children:"Sign In"})})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)("a",{href:"/agent/Login",children:"Partner"})})]})}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"row",style:{backgroundColor:"#0e0d0d"},children:[Object(g.jsx)("div",{className:"header-detail col-md-6",children:Object(g.jsx)("ul",{children:Object(g.jsxs)("li",{children:[Object(g.jsx)("a",{href:"https://api.whatsapp.com/send?phone=7710054367",children:Object(g.jsx)("img",{src:"https://d394hnp8jvz6yg.cloudfront.net/cabs/1678541979073.png",style:{height:30,width:30},alt:"whatsapp"})}),Object(g.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(g.jsx)("a",{href:"tel:+91 7710054367",children:"+91 7710054367"}),Object(g.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(g.jsx)("a",{href:"tel:+91 9136617676",children:"+91 9136617676"})]})})}),Object(g.jsx)("div",{className:"header-detail-r col-md-6",children:Object(g.jsx)("ul",{children:Object(g.jsxs)("li",{children:[Object(g.jsx)("i",{className:"fa fa-envelope","aria-hidden":"true"}),Object(g.jsx)("a",{href:"mailto:vishwacarrental@gmail.com ",children:"vishwacarrental@gmail.com "})]})})})]}),Object(g.jsxs)("div",{className:"row d-flex align-items-center bgColor",children:[Object(g.jsx)("h1",{className:"logo mr-auto",children:Object(g.jsx)("a",{href:"/Home",children:Object(g.jsx)("img",{src:"/logo_cab.png",style:{width:100,padding:5,borderRadius:"12px"}})})}),Object(g.jsx)("nav",{className:"nav-menu d-none d-lg-block",children:this.getMenus()}),Object(g.jsxs)(d.a,{show:this.state.show,onHide:this.setShow.bind(this.state.show),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(g.jsx)(d.a.Header,{closeButton:!0,children:Object(g.jsx)(d.a.Title,{id:"example-custom-modal-styling-title",children:"Login"})}),Object(g.jsx)(d.a.Body,{children:Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsx)(h.a,{children:Object(g.jsxs)(h.a.Body,{children:[Object(g.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(j.a.Label,{children:"Mobile No"}),Object(g.jsx)(j.a.Control,{name:"mobileNo",value:this.state.mobileNo,type:"text",placeholder:"Mobile No",onChange:this.setMobile})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(j.a.Label,{children:"Password"}),Object(g.jsx)(j.a.Control,{name:"userPassword",value:this.state.userPassword,type:"password",placeholder:"Paasword/Mobile No",onChange:this.setUserPassword})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(g.jsx)(p.a,{variant:"primary",type:"button",onClick:this.loginWithPassword.bind(this),children:"Login"})})})]})]})})})})})})})]})]})]})}}]),a}(l.Component);t.default=Object(b.f)(x)},81:function(e,t,a){"use strict";var r=a(3),s=a(7),n=a(58),i=a.n(n),c=a(1),o=a.n(c),l=a(62),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],h=o.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,c=e.striped,h=e.bordered,p=e.borderless,j=e.hover,b=e.size,m=e.variant,u=e.responsive,g=Object(s.a)(e,d),x=Object(l.a)(a,"table"),O=i()(n,x,m&&x+"-"+m,b&&x+"-"+b,c&&x+"-striped",h&&x+"-bordered",p&&x+"-borderless",j&&x+"-hover"),f=o.a.createElement("table",Object(r.a)({},g,{className:O,ref:t}));if(u){var y=x+"-responsive";return"string"===typeof u&&(y=y+"-"+u),o.a.createElement("div",{className:y},f)}return f}));t.a=h}}]);
//# sourceMappingURL=38.f059a2b9.chunk.js.map