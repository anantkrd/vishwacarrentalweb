(this["webpackJsonpVishwa Car Rental"]=this["webpackJsonpVishwa Car Rental"]||[]).push([[47],{429:function(e,t,r){"use strict";r.r(t);var a=r(51),s=r(52),i=r(42),c=r(41),n=r(43),o=r(44),l=r(1),d=r(49),h=r(96),j=r(53),b=r(389),u=r(62),m=r(48),p=r(55),x=r(3),O=r(9),g=(r(75),r(0)),v=function(e){Object(n.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(i.a)(this,r);for(var c=arguments.length,n=new Array(c),o=0;o<c;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={userId:"",item:[],error:"",isLoading:!1,loadingColor:"#ffffff",pageNo:0,showStartTrip:!1,showEndTrip:!1,startkm:0,endkm:0},e.startTrip=function(){},e.showStartTrip=function(){e.setState({startkm:0});var t=e.state.showStartTrip;e.setState({showStartTrip:!t})},e.showEndTrip=function(){e.setState({endkm:0});var t=e.state.showEndTrip;e.setState({showEndTrip:!t})},e.setTripStart=function(t){e.setState({startkm:t.target.value})},e.setMobile=function(t){e.setState({startkm:t.target.value})},e.saveStartKM=Object(s.a)(Object(a.a)().mark((function t(){var r,s,i,c,n,o,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("userId"),s=localStorage.getItem("token"),i=e.state.pageNo+1,c={Authorization:"Bearer ".concat(s)},n="&userId="+r+"&pageId="+i,t.next=7,fetch("http://localhost:8080/driver/start_trip?"+n,{headers:c});case 7:return o=t.sent,t.next=10,o.json();case 10:200==(l=t.sent).code?e.setState({item:l.data}):(console.log("errorr"),e.setState({error:"some internal error please try later"})),e.setState({isLoading:!1});case 13:case"end":return t.stop()}}),t)}))),e.setTripEnd=function(t){e.setState({endkm:t.target.value})},e.saveEndKM=Object(s.a)(Object(a.a)().mark((function t(){var r,s,i,c,n,o,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("userId"),s=localStorage.getItem("token"),i=e.state.pageNo+1,c={Authorization:"Bearer ".concat(s)},n="&userId="+r+"&pageId="+i,t.next=7,fetch("http://localhost:8080/driver/end_trip?"+n,{headers:c});case 7:return o=t.sent,t.next=10,o.json();case 10:200==(l=t.sent).code?e.setState({item:l.data}):(console.log("errorr"),e.setState({error:"some internal error please try later"})),e.setState({isLoading:!1});case 13:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(r,[{key:"super",value:function(){this.showLogin.bind(this),this.showRegister.bind(this)}},{key:"componentDidMount",value:function(){this.setState({isLoading:!0});var e=localStorage.getItem("userId");this.setState({userId:e}),this.getBooking(e)}},{key:"getBooking",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var r,s,i,c,n,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),s=this.state.pageNo+1,i={Authorization:"Bearer ".concat(r)},c="&userId="+t+"&pageId="+s,e.next=6,fetch("http://localhost:8080/driver/get_my_trip?"+c,{headers:i});case 6:return n=e.sent,e.next=9,n.json();case 9:200==(o=e.sent).code?this.setState({item:o.data}):(console.log("errorr"),this.setState({error:"some internal error please try later"})),this.setState({isLoading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(m.default,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("section",{id:"about-us",className:"about-us",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(d.a.Title,{style:{fontSize:16,padding:10,color:"white",backgroundColor:"gray"},children:"MY upcomming Trip "}),Object(g.jsx)(d.a.Body,{children:Object(g.jsx)("div",{style:{color:"red"},children:Object(g.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"BookingId"}),Object(g.jsx)("th",{children:"Name "}),Object(g.jsx)("th",{children:"Pickup"}),Object(g.jsx)("th",{children:"Destination"}),Object(g.jsx)("th",{children:"PickupDate"}),Object(g.jsx)("th",{children:"ReturnDate"}),Object(g.jsx)("th",{children:"Amount"}),Object(g.jsx)("th",{children:"Trip Status"}),Object(g.jsx)("th",{children:"Journy Status"})]})}),Object(g.jsx)("tbody",{children:this.state.item.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(O.b,{variant:"success",style:{padding:"4px",fontSize:12,textAlign:"center"},to:{pathname:"/driver/trip-details/".concat(e.orderId)},children:e.orderId})}),Object(g.jsxs)("td",{children:[e.userName," (",e.mobileNo,")"]}),Object(g.jsx)("td",{children:e.pickup}),Object(g.jsx)("td",{children:e.destination}),Object(g.jsx)("td",{children:void 0!=e.pickupDate?new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(e.pickupDate)):null}),Object(g.jsx)("td",{children:void 0!=e.returnDate?new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(e.returnDate)):null}),Object(g.jsx)("td",{children:e.agentPrice}),Object(g.jsx)("td",{children:Object(g.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:e.status})}),Object(g.jsx)("td",{children:Object(g.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:e.journyStatus})})]})}))})]})})})]})})})})}),Object(g.jsxs)(u.a,{show:this.state.showStartTrip,onHide:this.showStartTrip.bind(this.state.showStartTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(g.jsx)(u.a.Header,{closeButton:!0,children:Object(g.jsx)(u.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Starting KM"})}),Object(g.jsx)(u.a.Body,{children:Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(d.a.Body,{children:[Object(g.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(j.a.Label,{children:"Enter Start KM"}),Object(g.jsx)(j.a.Control,{name:"startkm",value:this.state.startkm,type:"text",placeholder:"Mobile No",onChange:this.setTripStart})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(g.jsx)(b.a,{variant:"primary",type:"button",onClick:this.saveStartKM.bind(this),children:"Save"})})})]})]})})})})})})})]}),Object(g.jsxs)(u.a,{show:this.state.showEndTrip,onHide:this.showEndTrip.bind(this.state.showEndTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(g.jsx)(u.a.Header,{closeButton:!0,children:Object(g.jsx)(u.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Ending KM"})}),Object(g.jsx)(u.a.Body,{children:Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(d.a.Body,{children:[Object(g.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(j.a.Label,{children:"Enter End KM"}),Object(g.jsx)(j.a.Control,{name:"endkm",value:this.state.endkm,type:"text",placeholder:"Trip End KM",onChange:this.setTripEnd})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(j.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(g.jsx)(b.a,{variant:"primary",type:"button",onClick:this.saveEndKM.bind(this),children:"Save"})})})]})]})})})})})})})]})]}),Object(g.jsx)(p.a,{})]})}}]),r}(l.Component);t.default=Object(x.f)(v)},96:function(e,t,r){"use strict";var a=r(4),s=r(8),i=r(61),c=r.n(i),n=r(1),o=r.n(n),l=r(64),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],h=o.a.forwardRef((function(e,t){var r=e.bsPrefix,i=e.className,n=e.striped,h=e.bordered,j=e.borderless,b=e.hover,u=e.size,m=e.variant,p=e.responsive,x=Object(s.a)(e,d),O=Object(l.a)(r,"table"),g=c()(i,O,m&&O+"-"+m,u&&O+"-"+u,n&&O+"-striped",h&&O+"-bordered",j&&O+"-borderless",b&&O+"-hover"),v=o.a.createElement("table",Object(a.a)({},x,{className:g,ref:t}));if(p){var f=O+"-responsive";return"string"===typeof p&&(f=f+"-"+p),o.a.createElement("div",{className:f},v)}return v}));t.a=h}}]);
//# sourceMappingURL=47.b82830f2.chunk.js.map