(this.webpackJsonpVishvajeet=this.webpackJsonpVishvajeet||[]).push([[30,52],{43:function(e,t,s){(function(t){e.exports=t.config={apiUrl:"http://localhost:8080/",paymentKey:"rzp_test_8KHr7ine3uj7uk",bucketName:"vishwacarrentdata",region:"ap-south-1",accessKeyId:"AKIA57FA3HCF3ECFDQJF",secretAccessKey:"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",cdnUrl:"https://d394hnp8jvz6yg.cloudfront.net/"}}).call(this,s(15))},449:function(e,t,s){"use strict";s.r(t);var a=s(54),c=s(47),i=s(48),r=s(38),l=s(36),o=s(39),n=s(40),d=s(1),j=s(46),h=s(409),m=s(49),b=s(60),O=s(45),x=s(53),p=s(2),u=s(33),v=s.n(u),g=s(0),N=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={item:[],userType:"",id:"",error:"",bookingId:"",pickupDate:"0000-00-00 00:00:00",returnDate:"0000-00-00 00:00:00",isLoading:!1,loadingColor:"#ffffff",showStartTrip:!1,showEndTrip:!1,startkm:0,endkm:0},a.showStartTrip=function(){a.setState({startkm:0});var e=a.state.showStartTrip;a.setState({showStartTrip:!e})},a.showEndTrip=function(){a.setState({endkm:0});var e=a.state.showEndTrip;a.setState({showEndTrip:!e})},a.setTripStart=function(e){a.setState({startkm:e.target.value})},a.setMobile=function(e){console.log("=mobile==="+e.target.value),a.setState({startkm:e.target.value})},a.saveStartKM=Object(i.a)(Object(c.a)().mark((function e(){var t,s,i,r,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userId"),s=localStorage.getItem("token"),a.state.pageNo+1,i={Authorization:"Bearer ".concat(s)},r="&userId="+t+"&bookingId="+a.state.item.orderId+"&startkm="+a.state.startkm,e.next=7,fetch("https://vishwacarrental.com:8080/driver/start_trip?"+r,{headers:i});case 7:return l=e.sent,e.next=10,l.json();case 10:200==e.sent.code?(a.setState({error:"record updated"}),a.setState({showStartTrip:!1}),a.geetDetails(a.state.item.orderId)):(console.log("errorr"),a.setState({error:"some internal error please try later"})),a.setState({isLoading:!1});case 13:case"end":return e.stop()}}),e)}))),a.setTripEnd=function(e){a.setState({endkm:e.target.value})},a.saveEndKM=Object(i.a)(Object(c.a)().mark((function e(){var t,s,i,r,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("userId"),s=localStorage.getItem("token"),a.state.pageNo+1,i={Authorization:"Bearer ".concat(s)},!(a.state.endkm<=a.state.item.startKm)){e.next=7;break}return a.setState({error:"Invalid values"}),e.abrupt("return",!1);case 7:return r="&userId="+t+"&bookingId="+a.state.item.orderId+"&endkm="+a.state.endkm,e.next=10,fetch("https://vishwacarrental.com:8080/driver/end_trip?"+r,{headers:i});case 10:return l=e.sent,e.next=13,l.json();case 13:200==e.sent.code?(a.setState({error:"record updated"}),a.geetDetails(a.props.match.params.bookingId),window.location.href="/driver/trip-complete/"+a.state.item.orderId):a.setState({error:"some internal error please try later"}),a.setState({isLoading:!1});case 16:case"end":return e.stop()}}),e)}))),a.completeTript=Object(i.a)(Object(c.a)().mark((function e(){var t,s,i,r,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userId"),s=localStorage.getItem("token"),a.state.pageNo+1,i={Authorization:"Bearer ".concat(s)},r="&userId="+t+"&bookingId="+a.state.item.orderId,e.next=7,fetch("https://vishwacarrental.com:8080/driver/complete_trip?"+r,{headers:i});case 7:return l=e.sent,e.next=10,l.json();case 10:200==e.sent.code?(a.setState({error:"Trip completed"}),window.location.href="/driver/home"):a.setState({error:"some internal error please try later"}),a.setState({isLoading:!1});case 13:case"end":return e.stop()}}),e)}))),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.setState({bookingId:this.props.match.params.bookingId}),this.geetDetails(this.props.match.params.bookingId);var e=localStorage.getItem("userType");this.setState({userType:e})}},{key:"geetDetails",value:function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){var s,a,i,r,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(s)},i="bookingId="+t,e.next=5,fetch("https://vishwacarrental.com:8080/user/get_booking_details?"+i,{headers:a});case 5:return r=e.sent,e.next=8,r.json();case 8:"200"===(l=e.sent).code?(console.log("data=:"+JSON.stringify(l)),this.setState({item:l.data}),this.setState({pickupDate:l.data.pickupDate}),this.setState({returnDate:l.data.returnDate})):this.setState({error:"some internal error please try later"}),this.setState({isLoading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendBill",value:function(){console.log("Send bill")}},{key:"render",value:function(){var e,t="\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n        position: absolute;\n        z-index: 9;\n        margin: 0px auto;\n        left: 40%;\n        ";return Object(g.jsxs)("div",{children:[Object(g.jsx)(O.default,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)(v.a,(e={css:t,style:{borderColor:"red"},color:this.state.loadingColor,loading:this.state.isLoading},Object(a.a)(e,"css",t),Object(a.a)(e,"size",150),Object(a.a)(e,"children","  "),e)),Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12",children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(j.a.Title,{style:{fontSize:16,padding:10,color:"white",backgroundColor:"gray"},children:"Booking Details "}),Object(g.jsxs)(j.a.Body,{children:[Object(g.jsx)("div",{style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-md-4",children:"Name"}),Object(g.jsx)("div",{className:"col-md-8",children:this.state.item.userName})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-md-4",children:"Mobile No"}),Object(g.jsx)("div",{className:"col-md-8",children:this.state.item.mobileNo})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"BookingId"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.orderId})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsx)("div",{className:"row"})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Pickup"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.pickup})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Destination"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.destination})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Pickup Date"}),Object(g.jsx)("div",{className:"col-8",children:"0000-00-00 00:00:00"!=this.state.pickupDate?new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(this.state.pickupDate)):null})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Return Date"}),Object(g.jsx)("div",{className:"col-8",children:"0000-00-00 00:00:00"!=this.state.returnDate?new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(this.state.returnDate)):null})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Cab Type"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.cabType})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"AC"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.ac})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Bags"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.bags})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Capacity"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.capacity})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Amount"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.amount})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Discount"}),Object(g.jsx)("div",{className:"col-8",children:this.state.item.discount})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Start Km"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.startKm})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"End Km"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.endKm})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Extra Km"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.extraDistance})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Extra Amount"}),Object(g.jsxs)("div",{className:"col-8",style:{fontWeight:700},children:[" ",this.state.item.extraAmount," (",this.state.item.extraRate,"/KM)"]})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Remaining"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.pending})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Journy"}),Object(g.jsxs)("div",{className:"col-8",style:{fontWeight:700},children:[this.state.item.distance,"KM  (",this.state.item.journyTime,")"]})]})})]}),Object(g.jsxs)("div",{className:"row detials-div",children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Total"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.finalAmount})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Paid"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.paid})]})})]}),Object(g.jsx)("div",{className:"row detials-div",children:Object(g.jsxs)("div",{className:"col-12",style:{fontSize:14},children:["Cars: ",this.state.item.cars]})}),Object(g.jsx)("div",{className:"row detials-div",style:{fontSize:14},children:Object(g.jsxs)("div",{className:"col-12",children:["Note: ",Object(g.jsx)("span",{children:this.state.item.note})]})}),Object(g.jsxs)("div",{className:"row detials-div",style:{fontSize:14},children:[Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Trip Status"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.status})]})}),Object(g.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-4",children:"Journy Status"}),Object(g.jsx)("div",{className:"col-8",style:{fontWeight:700},children:this.state.item.journyStatus})]})})]}),Object(g.jsx)("div",{children:"pending"==this.state.item.journyStatus?Object(g.jsx)(h.a,{variant:"primary",type:"button",onClick:this.showStartTrip.bind(this),children:"Start Now"}):"start"==this.state.item.journyStatus?Object(g.jsx)(h.a,{variant:"primary",type:"button",onClick:this.showEndTrip.bind(this),children:"End Now"}):"started"==this.state.item.tripStatus?Object(g.jsx)(h.a,{variant:"primary",type:"button",onClick:this.completeTript.bind(this),children:"End Trip"}):Object(g.jsx)("div",{children:"Completed"})})]})]})})})})}),Object(g.jsxs)(b.a,{show:this.state.showStartTrip,onHide:this.showStartTrip.bind(this.state.showStartTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(g.jsx)(b.a.Header,{closeButton:!0,children:Object(g.jsx)(b.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Starting KM"})}),Object(g.jsx)(b.a.Body,{children:Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)(j.a.Body,{children:[Object(g.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(m.a.Label,{children:"Enter Start KM"}),Object(g.jsx)(m.a.Control,{name:"startkm",value:this.state.startkm,type:"text",placeholder:"Mobile No",onChange:this.setTripStart})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(m.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(g.jsx)(h.a,{variant:"primary",type:"button",onClick:this.saveStartKM.bind(this),children:"Save"})})})]})]})})})})})})})]}),Object(g.jsxs)(b.a,{show:this.state.showEndTrip,onHide:this.showEndTrip.bind(this.state.showEndTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(g.jsx)(b.a.Header,{closeButton:!0,children:Object(g.jsx)(b.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Ending KM"})}),Object(g.jsx)(b.a.Body,{children:Object(g.jsx)("section",{id:"pricing",className:"pricing",children:Object(g.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)(j.a.Body,{children:[Object(g.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(m.a.Label,{children:"Enter End KM"}),Object(g.jsx)(m.a.Control,{name:"endkm",value:this.state.endkm,type:"text",placeholder:"Trip End KM",onChange:this.setTripEnd})]})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(m.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(g.jsx)(h.a,{variant:"primary",type:"button",onClick:this.saveEndKM.bind(this),children:"Save"})})})]})]})})})})})})})]})]}),Object(g.jsx)(x.a,{})]})}}]),s}(d.Component);t.default=Object(p.f)(N)},45:function(e,t,s){"use strict";s.r(t);var a=s(47),c=s(48),i=s(38),r=s(36),l=s(39),o=s(40),n=s(1),d=s(60),j=s(46),h=s(409),m=(s(43),s(52),s(49)),b=s(2),O=s(59),x=s.n(O),p=s(0),u=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).state={uid:"",userId:"",firstName:"",lastName:"",mobileNo:"",email:"",userType:"",show:!1},r.state={item:[],id:"",bookingId:"",mobileNo:"",otp:"",isOtpSent:"N",error:"",userPassword:"",timeOutInterval:0},r.startTimer=function(){console.log("setTimeout Called");setTimeout((function(){console.log("setTimeout Called=====");var e=localStorage.getItem("lastInteractionTime"),t=x.a.duration(x()().diff(x()(e))),s=r.state.timeOutInterval?r.state.timeOutInterval:6e4;console.log("lastInteractionTime:="+e),t._milliseconds<s&&r.startTimer()}),r.state.timeOutInterval?r.state.timeOutInterval:6e4)},r.setShow=function(e){r.setState({isOtpSent:"N"}),r.setState({mobileNo:""}),r.setState({otp:""});var t=r.state.show;console.log("val=="+t+"***"),r.setState({show:!t})},r.setMobile=function(e){console.log("===="+e.target.value),r.setState({mobileNo:e.target.value})},r.setOtp=function(e){r.setState({otp:e.target.value})},r.setUserPassword=function(e){r.setState({userPassword:e.target.value})},r.loginWithPassword=Object(c.a)(Object(a.a)().mark((function e(){var t,s,c,i,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({error:""}),t="&mobileNo="+r.state.mobileNo+"&userPassword="+r.state.userPassword,s={"Content-Type":"application/json"},"https://vishwacarrental.com:8080/v1/user_login?mobileNo="+r.state.mobileNo+"&userPassword="+r.state.userPassword,e.next=6,fetch("https://vishwacarrental.com:8080/user/user_login?"+t,{headers:s});case 6:return c=e.sent,console.log("+++response=="+JSON.stringify(c)),e.next=10,c.json();case 10:i=e.sent,console.log("Data="+JSON.stringify(i)),200==i.code?(l=i.data[0],console.log("userObj=="+JSON.stringify(l)+"==id="+l._id),localStorage.setItem("userId",l._id),localStorage.setItem("firstName",l.firstName),localStorage.setItem("lastName",l.lastName),localStorage.setItem("mobileNo",l.mobileNo),localStorage.setItem("email",l.email),localStorage.setItem("userType",l.userType),localStorage.setItem("token",l.token),"agent"==l.userType?window.location.href="agent/Home":"admin"==l.userType?window.location.href="admin/Home":"driver"==l.userType?window.location.href="driver/Home":window.location.href="/Home"):(r.setState({isOtpSent:"N"}),r.setState({error:"user not found"}));case 13:case"end":return e.stop()}}),e)}))),r.signOut=function(){console.log("here===sign out"),localStorage.setItem("userId",""),localStorage.setItem("firstName",""),localStorage.setItem("lastName",""),localStorage.setItem("mobileNo",""),localStorage.setItem("email",""),localStorage.setItem("userType",""),localStorage.setItem("token",""),r.setState({userId:""}),r.setState({firstName:""}),r.setState({lastName:""}),r.setState({mobileNo:""}),r.setState({email:""}),r.setState({userType:""}),window.location.href="/Home"},r.setState({isOtpSent:"N"}),localStorage.setItem("lastInteractionTime",x()()),console.log("userType Constructor=="+localStorage.getItem("userType")),r.startTimer(),r}return Object(r.a)(s,[{key:"super",value:function(){this.setShow.bind(this)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("userId");if(console.log("UserId=="+localStorage.getItem("userId")),console.log("userType=="+localStorage.getItem("userType")),e>0||null!=e){var t=localStorage.getItem("firstName"),s=localStorage.getItem("lastName"),a=localStorage.getItem("mobileNo"),c=localStorage.getItem("email"),i=localStorage.getItem("userType");localStorage.getItem("token");this.setState({userId:e}),this.setState({firstName:t}),this.setState({lastName:s}),this.setState({mobileNo:a}),this.setState({email:c}),this.setState({userType:i})}}},{key:"sendOtp",value:function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,s,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo,s={"Content-Type":"application/json"},{method:"GET",mode:"no-cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Origin":"*"}},e.next=6,fetch("https://vishwacarrental.com:8080/user/send_otp?"+t,{headers:s});case 6:return c=e.sent,e.next=9,c.json();case 9:200==e.sent.code?this.setState({isOtpSent:"Y"}):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyOtp",value:function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,s,c,i,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),t="&mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,s={"Content-Type":"application/json"},"https://c77b3hr0m0.execute-api.ap-south-1.amazonaws.com/v1/prayag-verifyOtp?mobileNo="+this.state.mobileNo+"&otp="+this.state.otp,e.next=6,fetch("https://vishwacarrental.com:8080/user/verify_otp?"+t,{headers:s});case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,console.log("Data="+JSON.stringify(i)),200==i.code?(r=i.data[0],console.log("userObj=="+JSON.stringify(r)+"==id="+r._id),localStorage.setItem("userId",r._id),localStorage.setItem("firstName",r.firstName),localStorage.setItem("lastName",r.lastName),localStorage.setItem("mobileNo",r.mobileNo),localStorage.setItem("email",r.email),localStorage.setItem("userType",r.userType),localStorage.setItem("token",r.token),"agent"==r.userType?window.location.href="agent/Home":"admin"==r.userType?window.location.href="admin/Home":"driver"==r.userType?window.location.href="driver/Home":window.location.href="/Home"):(this.setState({isOtpSent:"N"}),this.setState({error:"user not found"}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMenus",value:function(){return console.log("this.state.userType=="+this.state.userType),"admin"==this.state.userType?Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/admin/Home",children:"Home"})}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/AddCar",children:"My Cars"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/addDriver",children:"My Driver"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/addCabs",children:"Add Cabs"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/addSurge",children:"Surge"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/SpecialPrices",children:"Special Prices"})]})]}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Booking"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/agentWaiting",children:"Waiting for Agent"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/driverWaiting",children:"Waiting for Driver"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/ready",children:"Ready"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/completed",children:"Completed"})]})]}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/Booking",children:"Bookings"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/SearchLog",children:"Search Log"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/AllCars",children:"Cars"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/AllDrivers",children:"Drivers"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/admin/AllAgents",children:"Agents"})]})]}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",onClick:this.signOut,children:Object(p.jsx)("span",{children:"Sign Out"})})})]}):"user"==this.state.userType?Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/Home",children:"Home"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/History",children:"History"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/Profile",children:"Profile"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(p.jsx)("span",{children:"Sign Out"})})})]}):"agent"==this.state.userType?Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/agent/Home",children:"Home"})}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Bookings"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/agent/myPendingBookings",children:"Pending"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/agent/myCompletedBookings",children:"Completed"})]})]}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/agent/profile",children:"Profile"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/agent/AddCar",children:"My Cars"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/agent/addDriver",children:"My Driver"})]})]}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(p.jsx)("span",{children:"Sign Out"})})})]}):"driver"==this.state.userType?Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/driver/Home",children:"Home"})}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"My Profile"}),Object(p.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(p.jsx)("a",{className:"dropdown-item",href:"/driver/profile",children:"Profile"})})]}),Object(p.jsxs)("li",{className:"nav-item dropdown",children:[Object(p.jsx)("a",{className:"dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(p.jsx)("a",{className:"dropdown-item",href:"/driver/booking-report",children:"Booking Report"}),Object(p.jsx)("a",{className:"dropdown-item",href:"/driver/bankDetails",children:"Payment Report"})]})]}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(p.jsx)("span",{children:"Sign Out"})})})]}):"operator"==this.state.userType?Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"active",children:Object(p.jsx)("a",{href:"/Home",children:"Home"})}),Object(p.jsx)("li",{className:"active",children:Object(p.jsx)("a",{href:"/History",children:"History"})}),Object(p.jsxs)("li",{class:"nav-item dropdown",children:[Object(p.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Report"}),Object(p.jsx)("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"My Assign"})})]}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",onClick:this.signOut.bind(this),children:Object(p.jsx)("span",{children:"Sign Out"})})})]}):Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/Home",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/Login",children:Object(p.jsx)("span",{children:"Sign In"})})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"/agent/Login",children:"Partner"})})]})}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"row",style:{backgroundColor:"#0e0d0d"},children:[Object(p.jsx)("div",{className:"header-detail col-md-6",children:Object(p.jsx)("ul",{children:Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://api.whatsapp.com/send?phone=7710054367",children:Object(p.jsx)("img",{src:"https://d394hnp8jvz6yg.cloudfront.net/cabs/1678541979073.png",style:{height:30,width:30},alt:"whatsapp"})}),Object(p.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(p.jsx)("a",{href:"tel:+91 7710054367",children:"+91 7710054367"}),Object(p.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," ",Object(p.jsx)("a",{href:"tel:+91 9136617676",children:"+91 9136617676"})]})})}),Object(p.jsx)("div",{className:"header-detail-r col-md-6",children:Object(p.jsx)("ul",{children:Object(p.jsxs)("li",{children:[Object(p.jsx)("i",{className:"fa fa-envelope","aria-hidden":"true"}),Object(p.jsx)("a",{href:"mailto:vishwacarrental@gmail.com ",children:"vishwacarrental@gmail.com "})]})})})]}),Object(p.jsxs)("div",{className:"row d-flex align-items-center bgColor",children:[Object(p.jsx)("h1",{className:"logo mr-auto",children:Object(p.jsx)("a",{href:"/Home",children:Object(p.jsx)("img",{src:"/logo_cab.png",style:{width:100,padding:5,borderRadius:"12px"}})})}),Object(p.jsx)("nav",{className:"nav-menu d-none d-lg-block",children:this.getMenus()}),Object(p.jsxs)(d.a,{show:this.state.show,onHide:this.setShow.bind(this.state.show),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(p.jsx)(d.a.Header,{closeButton:!0,children:Object(p.jsx)(d.a.Title,{id:"example-custom-modal-styling-title",children:"Login"})}),Object(p.jsx)(d.a.Body,{children:Object(p.jsx)("section",{id:"pricing",className:"pricing",children:Object(p.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(p.jsx)(j.a,{children:Object(p.jsxs)(j.a.Body,{children:[Object(p.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"col-12",children:Object(p.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(m.a.Label,{children:"Mobile No"}),Object(p.jsx)(m.a.Control,{name:"mobileNo",value:this.state.mobileNo,type:"text",placeholder:"Mobile No",onChange:this.setMobile})]})}),Object(p.jsx)("div",{className:"col-12",children:Object(p.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(m.a.Label,{children:"Password"}),Object(p.jsx)(m.a.Control,{name:"userPassword",value:this.state.userPassword,type:"password",placeholder:"Paasword/Mobile No",onChange:this.setUserPassword})]})}),Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(m.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(p.jsx)(h.a,{variant:"primary",type:"button",onClick:this.loginWithPassword.bind(this),children:"Login"})})})]})]})})})})})})})]})]})]})}}]),s}(n.Component);t.default=Object(b.f)(u)},53:function(e,t,s){"use strict";var a=s(38),c=s(36),i=s(39),r=s(40),l=s(1),o=s(2),n=s(0),d=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){var e;Object(a.a)(this,s);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("footer",{id:"footer",children:[Object(n.jsx)("div",{className:"footer-top",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"https://wa.me/9987973223?text=Hey Buddy, I just want to chill with your car and make my tour easy. ",target:"_blank",title:"Connect with us on WhatsApp",children:Object(n.jsx)("img",{variant:"top",src:"https://d394hnp8jvz6yg.cloudfront.net/cabs/1678541979073.png",alt:"WhatsApp",style:{height:60,right:0,position:"fixed",bottom:30}})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-3 col-md-6 footer-contact",children:[Object(n.jsx)("h3",{children:"Address"}),Object(n.jsxs)("p",{children:["Vishwa Car Rental",Object(n.jsx)("br",{}),"Head Office: D 1 prakash sadan Mohili Village sakinaka ",Object(n.jsx)("br",{}),"Mumbai 400072 ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Mobile:"})," 7710054367,9136617676",Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Email :"})," vishwacarrental@gmail.com",Object(n.jsx)("br",{})]})]}),Object(n.jsxs)("div",{className:"col-lg-2 col-md-6 footer-links",children:[Object(n.jsx)("h4",{children:"Useful Links"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(n.jsx)("a",{href:"/Home",children:"Home"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(n.jsx)("a",{href:"/Servises",children:"Services"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(n.jsx)("a",{href:"/privacyPolicy",children:"Pravacy Policy"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(n.jsx)("a",{href:"/Aboutus",children:"About Us"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"bx bx-chevron-right"})," ",Object(n.jsx)("a",{href:"/termCondition",children:"Term & Condition"})]})]})]})]})]})}),Object(n.jsxs)("div",{className:"container d-md-flex py-4",children:[Object(n.jsxs)("div",{className:"mr-md-auto text-center text-md-left",children:[Object(n.jsxs)("div",{className:"copyright",children:["\xa9 Copyright ",Object(n.jsx)("strong",{children:Object(n.jsx)("span",{children:"VishwaJeet Cab Services"})}),". All Rights Reserved"]}),Object(n.jsxs)("div",{className:"credits",children:["Designed by ",Object(n.jsx)("a",{href:"#",children:"Ellipse Software Technology"})]})]}),Object(n.jsxs)("div",{className:"social-links text-center text-md-right pt-3 pt-md-0",children:[Object(n.jsx)("a",{href:"#",className:"twitter",children:Object(n.jsx)("i",{className:"bx bxl-twitter"})}),Object(n.jsx)("a",{href:"#",className:"facebook",children:Object(n.jsx)("i",{className:"bx bxl-facebook"})}),Object(n.jsx)("a",{href:"#",className:"instagram",children:Object(n.jsx)("i",{className:"bx bxl-instagram"})}),Object(n.jsx)("a",{href:"#",className:"google-plus",children:Object(n.jsx)("i",{className:"bx bxl-skype"})}),Object(n.jsx)("a",{href:"#",className:"linkedin",children:Object(n.jsx)("i",{className:"bx bxl-linkedin"})})]})]})]})}}]),s}(l.Component);t.a=Object(o.f)(d)},54:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(80);function c(e,t,s){return(t=Object(a.a)(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}}}]);
//# sourceMappingURL=30.6e91b6c5.chunk.js.map