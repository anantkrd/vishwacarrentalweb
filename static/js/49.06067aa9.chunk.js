(this["webpackJsonpVishwa Car Rental"]=this["webpackJsonpVishwa Car Rental"]||[]).push([[49],{119:function(e,t,r){"use strict";var a=r(4),s=r(8),i=r(64),c=r.n(i),n=r(1),o=r.n(n),l=r(66),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=o.a.forwardRef((function(e,t){var r=e.bsPrefix,i=e.className,n=e.striped,j=e.bordered,h=e.borderless,b=e.hover,p=e.size,u=e.variant,m=e.responsive,x=Object(s.a)(e,d),O=Object(l.a)(r,"table"),v=c()(i,O,u&&O+"-"+u,p&&O+"-"+p,n&&O+"-striped",j&&O+"-bordered",h&&O+"-borderless",b&&O+"-hover"),g=o.a.createElement("table",Object(a.a)({},x,{className:v,ref:t}));if(m){var f=O+"-responsive";return"string"===typeof m&&(f=f+"-"+m),o.a.createElement("div",{className:f},g)}return g}));t.a=j},431:function(e,t,r){"use strict";r.r(t);var a=r(53),s=r(54),i=r(42),c=r(41),n=r(44),o=r(45),l=r(1),d=r(50),j=r(119),h=r(55),b=r(389),p=r(63),u=r(49),m=r(57),x=r(3),O=r(9),v=(r(77),r(0)),g=function(e){Object(n.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(i.a)(this,r);for(var c=arguments.length,n=new Array(c),o=0;o<c;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={userId:"",item:[],error:"",isLoading:!1,loadingColor:"#ffffff",pageNo:0,showStartTrip:!1,showEndTrip:!1,startkm:0,endkm:0},e.startTrip=function(){},e.showStartTrip=function(){e.setState({startkm:0});var t=e.state.showStartTrip;e.setState({showStartTrip:!t})},e.showEndTrip=function(){e.setState({endkm:0});var t=e.state.showEndTrip;e.setState({showEndTrip:!t})},e.setTripStart=function(t){e.setState({startkm:t.target.value})},e.setMobile=function(t){e.setState({startkm:t.target.value})},e.saveStartKM=Object(s.a)(Object(a.a)().mark((function t(){var r,s,i,c,n,o,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("userId"),s=localStorage.getItem("token"),i=e.state.pageNo+1,c={Authorization:"Bearer ".concat(s)},n="&userId="+r+"&pageId="+i,t.next=7,fetch("https://vishwacarrental.com:8080/driver/start_trip?"+n,{headers:c});case 7:return o=t.sent,t.next=10,o.json();case 10:200==(l=t.sent).code?e.setState({item:l.data}):(console.log("errorr"),e.setState({error:"some internal error please try later"})),e.setState({isLoading:!1});case 13:case"end":return t.stop()}}),t)}))),e.setTripEnd=function(t){e.setState({endkm:t.target.value})},e.saveEndKM=Object(s.a)(Object(a.a)().mark((function t(){var r,s,i,c,n,o,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("userId"),s=localStorage.getItem("token"),i=e.state.pageNo+1,c={Authorization:"Bearer ".concat(s)},n="&userId="+r+"&pageId="+i,t.next=7,fetch("https://vishwacarrental.com:8080/driver/end_trip?"+n,{headers:c});case 7:return o=t.sent,t.next=10,o.json();case 10:200==(l=t.sent).code?e.setState({item:l.data}):(console.log("errorr"),e.setState({error:"some internal error please try later"})),e.setState({isLoading:!1});case 13:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(r,[{key:"super",value:function(){this.showLogin.bind(this),this.showRegister.bind(this)}},{key:"componentDidMount",value:function(){this.setState({isLoading:!0});var e=localStorage.getItem("userId");this.setState({userId:e}),this.getBooking(e)}},{key:"getBooking",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var r,s,i,c,n,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),s=this.state.pageNo+1,i={Authorization:"Bearer ".concat(r)},c="&userId="+t+"&pageId="+s,e.next=6,fetch("https://vishwacarrental.com:8080/driver/get_my_trip?"+c,{headers:i});case 6:return n=e.sent,e.next=9,n.json();case 9:200==(o=e.sent).code?this.setState({item:o.data}):(console.log("errorr"),this.setState({error:"some internal error please try later"})),this.setState({isLoading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.default,{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("section",{id:"about-us",className:"about-us",children:Object(v.jsx)("div",{className:"container","data-aos":"fade-up",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(d.a.Title,{style:{fontSize:16,padding:10,color:"white",backgroundColor:"gray"},children:"MY upcomming Trip "}),Object(v.jsx)(d.a.Body,{children:Object(v.jsx)("div",{style:{color:"red"},children:Object(v.jsxs)(j.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"BookingId"}),Object(v.jsx)("th",{children:"Name "}),Object(v.jsx)("th",{children:"Pickup"}),Object(v.jsx)("th",{children:"Destination"}),Object(v.jsx)("th",{children:"PickupDate"}),Object(v.jsx)("th",{children:"ReturnDate"}),Object(v.jsx)("th",{children:"Amount"}),Object(v.jsx)("th",{children:"Trip Status"}),Object(v.jsx)("th",{children:"Journy Status"})]})}),Object(v.jsx)("tbody",{children:this.state.item.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(O.b,{variant:"success",style:{padding:"4px",fontSize:12,textAlign:"center"},to:{pathname:"/driver/trip-details/".concat(e.orderId)},children:e.orderId})}),Object(v.jsxs)("td",{children:[e.userName," (",e.mobileNo,")"]}),Object(v.jsx)("td",{children:e.pickup}),Object(v.jsx)("td",{children:e.destination}),Object(v.jsx)("td",{children:void 0!=e.pickupDate?e.pickupDate:null}),Object(v.jsx)("td",{children:void 0!=e.returnDate?e.returnDate:null}),Object(v.jsx)("td",{children:e.agentPrice}),Object(v.jsx)("td",{children:Object(v.jsx)(h.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:e.status})}),Object(v.jsx)("td",{children:Object(v.jsx)(h.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:e.journyStatus})})]})}))})]})})})]})})})})}),Object(v.jsxs)(p.a,{show:this.state.showStartTrip,onHide:this.showStartTrip.bind(this.state.showStartTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(v.jsx)(p.a.Header,{closeButton:!0,children:Object(v.jsx)(p.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Starting KM"})}),Object(v.jsx)(p.a.Body,{children:Object(v.jsx)("section",{id:"pricing",className:"pricing",children:Object(v.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(d.a.Body,{children:[Object(v.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"col-12",children:Object(v.jsxs)(h.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(h.a.Label,{children:"Enter Start KM"}),Object(v.jsx)(h.a.Control,{name:"startkm",value:this.state.startkm,type:"text",placeholder:"Mobile No",onChange:this.setTripStart})]})}),Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)(h.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(v.jsx)(b.a,{variant:"primary",type:"button",onClick:this.saveStartKM.bind(this),children:"Save"})})})]})]})})})})})})})]}),Object(v.jsxs)(p.a,{show:this.state.showEndTrip,onHide:this.showEndTrip.bind(this.state.showEndTrip),dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(v.jsx)(p.a.Header,{closeButton:!0,children:Object(v.jsx)(p.a.Title,{id:"example-custom-modal-styling-title",children:"Trip Ending KM"})}),Object(v.jsx)(p.a.Body,{children:Object(v.jsx)("section",{id:"pricing",className:"pricing",children:Object(v.jsx)("div",{className:"container","data-aos":"fade-up",style:{width:"95%!important"},children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(d.a.Body,{children:[Object(v.jsx)("div",{className:"col-lg-12 col-md-12",style:{color:"red"},children:this.state.error}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"col-12",children:Object(v.jsxs)(h.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(h.a.Label,{children:"Enter End KM"}),Object(v.jsx)(h.a.Control,{name:"endkm",value:this.state.endkm,type:"text",placeholder:"Trip End KM",onChange:this.setTripEnd})]})}),Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)(h.a.Group,{controlId:"formBasicEmail",style:{float:"right"},children:Object(v.jsx)(b.a,{variant:"primary",type:"button",onClick:this.saveEndKM.bind(this),children:"Save"})})})]})]})})})})})})})]})]}),Object(v.jsx)(m.a,{})]})}}]),r}(l.Component);t.default=Object(x.f)(g)}}]);
//# sourceMappingURL=49.06067aa9.chunk.js.map